<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>AI Project Context Generator</title>
    <url>/posts/5438/</url>
    <content><![CDATA[<h1 id="AI-Project-Context-Generator-getfiles-sh"><a href="#AI-Project-Context-Generator-getfiles-sh" class="headerlink" title="AI Project Context Generator (getfiles.sh)"></a>AI Project Context Generator (<code>getfiles.sh</code>)</h1><p><a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></p>
<blockquote>
<p>好用的Ai仅在网页版或者api能用，vscode上的插件又要钱，稍微大点的项目就一堆文件，一个个上传给ai嫌手疼，故让Gemini写了个</p>
</blockquote>
<p>项目GitHub：<a href="https://github.com/butlanys/getfiles">https://github.com/butlanys/getfiles</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl https://raw.githubusercontent.com/butlanys/getfiles/main/getfiles.sh | bash</span><br></pre></td></tr></table></figure>

<p>一个简单的 Bash 脚本，用于快速生成项目结构和选定文件内容的概览，旨在作为上下文提供给大型语言模型（LLM）或 AI 助手。</p>
<p>它会自动：</p>
<ul>
<li>生成目录树（如果 <code>tree</code> 命令可用）。</li>
<li>抓取项目中的文件内容。</li>
<li>根据 <code>.gitignore</code> 文件排除文件和目录（需要 <code>git</code> 命令和在 Git 仓库中运行）。</li>
<li>允许你定义额外的自定义排除模式。</li>
<li>允许你指定只包含特定文件后缀的文件。</li>
<li>将生成的上下文保存到一个带有时间戳的文本文件中 (<code>ai_prompt_YYYYMMDD_HHMMSS.txt</code>)。</li>
</ul>
<p>这对于向 AI 提供关于代码库的全面信息，以便进行调试、代码生成、文档编写或一般性分析非常有用，而无需手动复制粘贴大量文件。</p>
<h2 id="✨-功能特性"><a href="#✨-功能特性" class="headerlink" title="✨ 功能特性"></a>✨ 功能特性</h2><ul>
<li><strong>目录树视图</strong>: 使用 <code>tree</code> 命令（如果已安装）可视化项目结构。</li>
<li><strong>文件内容包含</strong>: 自动读取并包含项目中文件的内容。</li>
<li><strong>.gitignore 感知</strong>: 智能地排除 Git 配置中忽略的文件和目录（依赖 <code>git</code>）。</li>
<li><strong>自定义排除</strong>: 通过编辑脚本顶部的 <code>CUSTOM_EXCLUDE_PATTERNS</code> 数组来添加你自己的排除规则（例如，<code>*.log</code>, <code>dist/</code>）。</li>
<li><strong>后缀过滤</strong>: 通过编辑 <code>INCLUDE_SUFFIXES</code> 数组来选择只包含特定文件类型（例如，<code>py</code>, <code>js</code>, <code>md</code>）。</li>
<li><strong>自我忽略</strong>: 脚本本身 (<code>getfiles.sh</code>) 和 <code>.git</code> 目录总是被排除。</li>
<li><strong>自动保存</strong>: 将输出直接保存到带有日期和时间戳的文件中，方便管理。</li>
<li><strong>回退机制</strong>: 如果 <code>git</code> 或 <code>tree</code> 命令不可用，脚本会尝试使用 <code>find</code> 命令，并打印警告。</li>
</ul>
<h2 id="🚀-为什么使用这个脚本？"><a href="#🚀-为什么使用这个脚本？" class="headerlink" title="🚀 为什么使用这个脚本？"></a>🚀 为什么使用这个脚本？</h2><ul>
<li><strong>节省时间</strong>: 无需手动浏览和复制粘贴多个文件。</li>
<li><strong>提供完整上下文</strong>: 帮助 AI 更好地理解项目结构和代码依赖关系。</li>
<li><strong>结构化输出</strong>: 生成的提示词具有清晰的结构（目录树、文件内容）。</li>
<li><strong>可配置</strong>: 轻松调整排除项和包含的文件类型。</li>
</ul>
<h2 id="🛠️-先决条件"><a href="#🛠️-先决条件" class="headerlink" title="🛠️ 先决条件"></a>🛠️ 先决条件</h2><ul>
<li><strong>Bash</strong>: 脚本是用 Bash 编写的，大多数 Linux、macOS 和 Windows (通过 WSL 或 Git Bash) 系统都自带。</li>
<li><strong><code>git</code> (强烈推荐)</strong>: 为了准确地遵循 <code>.gitignore</code> 规则，需要安装 <code>git</code> 并且脚本应在 Git 仓库的根目录运行。</li>
<li><strong><code>tree</code> (可选但推荐)</strong>: 为了获得更美观的目录树视图。如果未安装，脚本会使用 <code>find</code> 命令作为替代，并显示警告。<ul>
<li>在 Debian&#x2F;Ubuntu 上: <code>sudo apt update &amp;&amp; sudo apt install tree git</code></li>
<li>在 macOS 上 (使用 Homebrew): <code>brew install tree git</code></li>
<li>在 Fedora 上: <code>sudo dnf install tree git</code></li>
</ul>
</li>
</ul>
<h2 id="⚙️-安装"><a href="#⚙️-安装" class="headerlink" title="⚙️ 安装"></a>⚙️ 安装</h2><ol>
<li><strong>获取脚本</strong>:<ul>
<li>克隆仓库: <code>git clone &lt;your-repo-url&gt;</code></li>
<li>或者，直接下载 <code>getfiles.sh</code> 文件到你的项目根目录。</li>
</ul>
</li>
<li><strong>授予执行权限</strong>: 在你的项目根目录打开终端，运行：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x getfiles.sh</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="📝-使用方法"><a href="#📝-使用方法" class="headerlink" title="📝 使用方法"></a>📝 使用方法</h2><ol>
<li><strong>导航到项目</strong>: 在终端中，<code>cd</code> 进入你的项目根目录。</li>
<li><strong>(可选) 配置</strong>: 如果需要，编辑 <code>getfiles.sh</code> 文件顶部的 <code>CUSTOM_EXCLUDE_PATTERNS</code> 和 <code>INCLUDE_SUFFIXES</code> 数组。<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 示例: 排除所有 .log 文件和 build 目录</span></span><br><span class="line">CUSTOM_EXCLUDE_PATTERNS=(<span class="string">&quot;*.log&quot;</span> <span class="string">&quot;build/&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例: 只包含 Python 和 Markdown 文件</span></span><br><span class="line">INCLUDE_SUFFIXES=(<span class="string">&quot;py&quot;</span> <span class="string">&quot;md&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果 INCLUDE_SUFFIXES 为空数组，则包含所有未被排除的文件</span></span><br><span class="line"><span class="comment"># INCLUDE_SUFFIXES=()</span></span><br></pre></td></tr></table></figure></li>
<li><strong>运行脚本</strong>:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./getfiles.sh</span><br></pre></td></tr></table></figure></li>
<li><strong>检查输出</strong>: 脚本将在终端显示一些信息，并将完整的 AI 提示词保存到一个名为 <code>ai_prompt_YYYYMMDD_HHMMSS.txt</code> 的文件中（例如 <code>ai_prompt_20250410_103600.txt</code>）。</li>
<li><strong>提供给 AI</strong>: 打开生成的 <code>.txt</code> 文件，复制其全部内容，然后粘贴到你的 AI 对话框中作为上下文或提示。</li>
</ol>
<h2 id="📄-输出结构"><a href="#📄-输出结构" class="headerlink" title="📄 输出结构"></a>📄 输出结构</h2><p>生成的 <code>ai_prompt_*.txt</code> 文件大致包含以下部分：</p>
<ol>
<li><strong>引导语</strong>: 说明内容的性质和应用的排除规则。</li>
<li><strong>项目结构 (目录树)</strong>: 使用 <code>tree</code> 或 <code>find</code> 生成的目录列表。</li>
<li><strong>文件内容</strong>:<ul>
<li>对于每个包含的文件：<ul>
<li>文件路径标识 (<code>--- 文件路径: path/to/your/file ---</code>)</li>
<li>文件内容本身</li>
<li>分隔符 (<code>--------------------------------------------------</code>)</li>
</ul>
</li>
</ul>
</li>
<li><strong>结束语</strong>: 标记上下文结束。</li>
</ol>
<h2 id="⚠️-限制"><a href="#⚠️-限制" class="headerlink" title="⚠️ 限制"></a>⚠️ 限制</h2><ul>
<li><strong>自定义排除模式</strong>: <code>CUSTOM_EXCLUDE_PATTERNS</code> 使用简单的 <code>grep</code> 模式匹配，可能不如 <code>.gitignore</code> 的语法强大或精确。它主要用于过滤 <code>git ls-files</code> 或 <code>find</code> 返回的路径字符串。</li>
<li><strong><code>find</code> 回退</strong>: 如果 <code>git</code> 不可用，使用 <code>find</code> 命令获取文件列表可能无法完全准确地遵循 <code>.gitignore</code> 的所有规则（特别是复杂的否定模式等）。</li>
<li><strong>二进制文件</strong>: 脚本会尝试读取所有符合条件的文件。对于大型二进制文件，这可能会导致输出非常大或包含乱码。可以考虑使用 <code>CUSTOM_EXCLUDE_PATTERNS</code> 或 <code>INCLUDE_SUFFIXES</code> 来避免这种情况。</li>
</ul>
<h2 id="🤝-贡献"><a href="#🤝-贡献" class="headerlink" title="🤝 贡献"></a>🤝 贡献</h2><p>欢迎提出问题 (Issues) 和拉取请求 (Pull Requests)。如果你有改进脚本的想法或发现了 Bug，请随时贡献！</p>
<h2 id="📜-许可证"><a href="#📜-许可证" class="headerlink" title="📜 许可证"></a>📜 许可证</h2><p>本项目采用 <a href="LICENSE">MIT 许可证</a>。 (你需要创建一个名为 <code>LICENSE</code> 的文件并将 MIT 许可证文本放入其中)</p>
]]></content>
  </entry>
  <entry>
    <title>Google Gemini Ai for yhchat</title>
    <url>/posts/bebafed8/</url>
    <content><![CDATA[<h2 id="点击使用云湖机器人【Gemini-Bot】"><a href="#点击使用云湖机器人【Gemini-Bot】" class="headerlink" title="点击使用云湖机器人【Gemini Bot】"></a><a href="https://yhfx.jwznb.com/share?key=O1pAnYgHTycu&ts=1709444123">点击使用云湖机器人【Gemini Bot】</a></h2><p>机器人ID: 9804152</p>
<p><strong>Google Gemini Ai是一种多模态人工智能模型，它结合了文本、图像、音频和视频的强大功能，能够生成类似人类的文本、翻译语言、创建图像和视频、回答问题以及执行各种认知任务。它的目标是提高人工智能模型的灵活性、效率和整体性能。</strong></p>
<p><strong>支持私聊，支持添加到自己的群使用！</strong></p>
<table>
<thead>
<tr>
<th><center><strong>特点</strong></center></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><center><strong>响应速度快</td>
<td><center><strong>√</strong></center></td>
</tr>
<tr>
<td><center><strong>没有限制的对话</td>
<td><center><strong>√</strong></center></td>
</tr>
<tr>
<td><center><strong>连续的上下文</td>
<td><center><strong>√</strong></center></td>
</tr>
<tr>
<td><center><strong>高效的一键复制</td>
<td><center><strong>√</strong></center></td>
</tr>
<tr>
<td><center><strong>接近于 OpenAI ChatGPT 4.0 的回答质量</td>
<td><center><strong>√</strong></center></td>
</tr>
<tr>
<td><center><strong>完全免费</td>
<td><center><strong>√</strong></center></td>
</tr>
<tr>
<td><center><strong>流式输出</td>
<td><center><strong>√</strong></center></td>
</tr>
</tbody></table>
<h5 id="上下文使用事项"><a href="#上下文使用事项" class="headerlink" title="上下文使用事项"></a>上下文使用事项</h5><ul>
<li>此功能仅在私聊中提供！</li>
<li>清除上下文请使用&#x2F;RESET、&#x2F;清除上下文或者指令菜单清除</li>
</ul>
<h5 id="群组："><a href="#群组：" class="headerlink" title="群组："></a>群组：</h5><p><strong>请使用@拉起bot，例如：</strong></p>
<ul>
<li>@Gemini</li>
<li>@Gemini Bot</li>
<li>@bot #Bot &#x2F;Bot</li>
</ul>
<h5 id="待开发："><a href="#待开发：" class="headerlink" title="待开发："></a>待开发：</h5><ul>
<li>模型实时切换</li>
<li>实时切换ai请求url</li>
<li>使用统计</li>
</ul>
<h3 id="自行部署"><a href="#自行部署" class="headerlink" title="自行部署"></a>自行部署</h3><p><strong>此项目使用了openai python sdk，所以可以搭配<a href="https://github.com/songquanpeng/one-api">one-api</a>使用</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/hqycloud/GPT-for-yhchat.git</span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure>

<p><strong>打开main.py填写配置</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python main.py</span><br></pre></td></tr></table></figure>

<p><strong>项目内的注释已使用Ai补全！</strong></p>
<p><strong><a href="https://github.com/hqycloud/GPT-for-yhchat">https://github.com/hqycloud/GPT-for-yhchat</a></strong></p>
]]></content>
      <categories>
        <category>yhchat</category>
      </categories>
  </entry>
  <entry>
    <title>OpenResty(nginx)子目录反向代理</title>
    <url>/posts/30145/</url>
    <content><![CDATA[<p>一般来说，子目录反向代理只需要以下配置就足够了：</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">location</span><span class="regexp"> ^~</span> /test/ &#123;</span><br><span class="line">    <span class="attribute">proxy_pass</span> https://example.com; </span><br><span class="line">    <span class="attribute">proxy_set_header</span> Host example.com; </span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>; </span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>; </span><br><span class="line">    <span class="attribute">proxy_set_header</span> REMOTE-HOST <span class="variable">$remote_addr</span>; </span><br><span class="line">    <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>; </span><br><span class="line">    <span class="attribute">proxy_set_header</span> Connection <span class="variable">$http_connection</span>; </span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>; </span><br><span class="line">    <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>; </span><br><span class="line">    <span class="attribute">add_header</span> X-Cache <span class="variable">$upstream_cache_status</span>; </span><br><span class="line">    <span class="attribute">add_header</span> Cache-Control <span class="literal">no</span>-cache; </span><br><span class="line">    <span class="attribute">proxy_ssl_server_name</span> <span class="literal">off</span>; </span><br><span class="line">    <span class="attribute">proxy_ssl_name</span> <span class="variable">$proxy_host</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>每条配置解释：</p>
<ul>
<li><code>location ^~ /test/</code>:  匹配以 <code>/test/</code> 开头的 URL 请求。<code>^~</code> 表示优先匹配。</li>
<li><code>proxy_pass https://example.com;</code>: 将请求转发到 <code>https://example.com</code>。</li>
<li><code>proxy_set_header</code>: 设置请求头，将一些客户端信息传递给后端服务器。<ul>
<li><code>Host example.com;</code>:  将请求头中的 Host 字段设置为 <code>example.com</code>，这是必须的，否则后端服务器可能无法正确处理请求。</li>
<li><code>X-Real-IP $remote_addr;</code>: 传递客户端的真实 IP 地址。</li>
<li><code>X-Forwarded-For $proxy_add_x_forwarded_for;</code>:  追加客户端的 IP 地址到 X-Forwarded-For 头部，用于记录完整的请求链路。</li>
<li><code>REMOTE-HOST $remote_addr;</code>:  传递客户端的主机名（通常是 IP 地址）。</li>
<li><code>Upgrade $http_upgrade;</code> 和 <code>Connection $http_connection;</code>:  用于支持 WebSocket 代理。</li>
<li><code>X-Forwarded-Proto $scheme;</code>:  传递请求的协议 (http 或 https)。</li>
</ul>
</li>
<li><code>proxy_http_version 1.1;</code>:  设置 HTTP 协议版本为 1.1。</li>
<li><code>add_header X-Cache $upstream_cache_status;</code>:  添加一个响应头，显示缓存状态 (HIT, MISS, EXPIRED 等)。</li>
<li><code>add_header Cache-Control no-cache;</code>:  设置响应头，指示客户端不要缓存响应。</li>
<li><code>proxy_ssl_server_name off;</code>:  关闭 SNI (Server Name Indication)。</li>
<li><code>proxy_ssl_name $proxy_host;</code>:  设置用于验证后端服务器证书的域名。</li>
</ul>
<p>但实际使用会发现，如果反向代理的是一些有绝对路径的网站，就会出现 404 错误。</p>
<p>举个例子：</p>
<p>假设我们使用上述配置将 <code>/test/</code> 映射到 <code>https://example.com</code>。当访问 <code>http://your_server/test/</code> 时，Nginx 会将其代理到 <code>https://example.com/</code>。这通常没有问题。</p>
<p>但是，如果 <code>https://example.com</code> 的网页中有一个资源的链接是绝对路径，例如：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/images/logo.png&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当浏览器解析到这个标签时，它会尝试请求 <code>http://server/images/logo.png</code>，而不是 <code>http://server/test/images/logo.png</code>。由于服务器上 <code>/images/logo.png</code> 路径并不存在，就会导致 404 错误。</p>
<p>问题的原因在于，当网站使用绝对路径时，浏览器会根据当前的域名来拼接完整的 URL，而忽略了反向代理的子目录 <code>/test/</code>。</p>
<p><strong>使用rewrite重写url</strong></p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">location</span><span class="regexp"> ^~</span> /test/ &#123;</span><br><span class="line">    <span class="attribute">rewrite</span><span class="regexp"> ^/test/(.*)$</span> /<span class="variable">$1</span> <span class="literal">break</span>; <span class="comment"># 重写 URL</span></span><br><span class="line">    <span class="attribute">proxy_pass</span> https://example.com;</span><br><span class="line">    <span class="attribute">proxy_buffering</span> <span class="literal">off</span>;</span><br><span class="line">    <span class="attribute">proxy_request_buffering</span> <span class="literal">off</span>;</span><br><span class="line">    <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Connection <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Host example.com;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> REMOTE-HOST <span class="variable">$remote_addr</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">    <span class="attribute">proxy_cache</span> <span class="literal">off</span>;</span><br><span class="line">    <span class="attribute">proxy_ssl_server_name</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">proxy_ssl_name</span> example.com;</span><br><span class="line">    <span class="attribute">add_header</span> Strict-Transport-Security <span class="string">&quot;max-age=31536000&quot;</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Accel-Buffering <span class="literal">no</span>;</span><br><span class="line">    <span class="attribute">add_header</span> X-Proxy-Cache <span class="variable">$upstream_cache_status</span>;</span><br><span class="line">    <span class="attribute">tcp_nodelay</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="section">location</span> <span class="regexp">~* /test/.*\.(css|js)$</span> &#123;</span><br><span class="line">        <span class="attribute">rewrite</span><span class="regexp"> ^/test/(.*)$</span> /<span class="variable">$1</span> <span class="literal">break</span>;</span><br><span class="line">        <span class="attribute">proxy_pass</span> https://example.com;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host example.com;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> REMOTE-HOST <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">        <span class="attribute">proxy_cache_key</span> <span class="string">&quot;<span class="variable">$scheme</span><span class="variable">$proxy_host</span><span class="variable">$uri</span>&quot;</span>;</span><br><span class="line">        <span class="attribute">proxy_ssl_server_name</span> <span class="literal">on</span>;</span><br><span class="line">        <span class="attribute">proxy_ssl_name</span> example.com;</span><br><span class="line">        <span class="attribute">expires</span> <span class="number">7d</span>;</span><br><span class="line">        <span class="attribute">add_header</span> Cache-Control <span class="string">&quot;public&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我这里反代的是某个视频网站，所以我开了缓存+视频流优化，如果不需要请自行删减</p>
<p>反代前：</p>
<p><img src="https://file.butlanys.de/img/19560554ab6b1d677b107a173036e02e.png"></p>
<p>反代后：</p>
<p><img src="https://file.butlanys.de/img/6bb0dcbca31471d7718d1eaf8dba4bfd.png"></p>
<p>虽然不知道为什么反代之后资源只会一个个加载了，但起码视频流是正常的，速度比反代前高得多</p>
]]></content>
      <categories>
        <category>nginx</category>
      </categories>
      <tags>
        <tag>nginx</tag>
        <tag>site</tag>
        <tag>config</tag>
      </tags>
  </entry>
  <entry>
    <title>aplayer播放器对接alist</title>
    <url>/posts/51355/</url>
    <content><![CDATA[<p>如果你不是通过官方的方式引入aplayer，那么建议你先看看这篇文章<a href="https://blog.hqycloud.top/posts/16450/">网页接入aplayer音乐播放器 | butlanys的博客</a></p>
<p>只需要在aplayer的配置js中改为下面的js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> urlParams = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>);</span><br><span class="line"><span class="keyword">const</span> path = urlParams.<span class="title function_">get</span>(<span class="string">&#x27;path&#x27;</span>) || <span class="string">&#x27;/music&#x27;</span>; <span class="comment">// alist中访客可看到音乐的路径</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">`https://alist.hqycloud.top/api/fs/list`</span>, &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">    <span class="attr">path</span>: path,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 如果用的是访客权限，这里可以为空</span></span><br><span class="line">    <span class="attr">page</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">per_page</span>: <span class="number">100</span>, <span class="comment">//获取的最大音乐数量，此值可大不可小，否则获取的音乐不全</span></span><br><span class="line">    <span class="attr">refresh</span>: <span class="literal">false</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> response.<span class="title function_">json</span>())</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (data.<span class="property">code</span> === <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> audioList = data.<span class="property">data</span>.<span class="property">content</span></span><br><span class="line">        .<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> !item.<span class="property">is_dir</span>)</span><br><span class="line">        .<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> (&#123;</span><br><span class="line">          <span class="attr">name</span>: item.<span class="property">name</span>.<span class="title function_">replace</span>(<span class="regexp">/\.[^/.]+$/</span>, <span class="string">&quot;&quot;</span>),</span><br><span class="line">          <span class="attr">url</span>: <span class="string">`https://alist.hqycloud.top/d/onedrive-data<span class="subst">$&#123;path&#125;</span>/<span class="subst">$&#123;<span class="built_in">encodeURIComponent</span>(item.name)&#125;</span>`</span>, </span><br><span class="line">          <span class="attr">cover</span>: item.<span class="property">thumb</span> <span class="comment">// 可选：设置封面图片</span></span><br><span class="line">        &#125;));</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> ap = <span class="keyword">new</span> <span class="title class_">APlayer</span>(&#123;</span><br><span class="line">        <span class="attr">container</span>: <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;aplayer&#x27;</span>),</span><br><span class="line">        <span class="attr">fixed</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">autoplay</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">audio</span>: audioList</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;获取音乐列表失败:&#x27;</span>, data.<span class="property">message</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;获取音乐列表出错:&#x27;</span>, error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>aplayer</category>
      </categories>
      <tags>
        <tag>aplayer</tag>
        <tag>alist</tag>
        <tag>music</tag>
      </tags>
  </entry>
  <entry>
    <title>bash执行长命令报错临时解决办法</title>
    <url>/posts/35504/</url>
    <content><![CDATA[<p>终端运行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash -c <span class="string">&quot;hexo clean &amp;&amp; hexo g &amp;&amp; hexo d &amp;&amp; rm -rf /opt/1panel/apps/openresty/openresty/www/sites/blog.butlanys.de/index/* &amp;&amp; cp -r /opt/blog/hexo/public/*</span></span><br></pre></td></tr></table></figure>

<p>报错：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-bash: bash -c hexo clean &amp;&amp; hexo g &amp;&amp; hexo d &amp;&amp; rm -rf /opt/1panel/apps/openresty/openresty/www/sites/blog.butlanys.de/index/* &amp;&amp; cp -r /opt/blog/hexo/public/* /opt/1panel/apps/openresty/openresty/www/sites/blog.butlanys.de/index/: No such file or directory</span><br></pre></td></tr></table></figure>

<p>目录也存在，而且分步执行也正常，但连起来就报错😓</p>
<p>将命令转为脚本后运行成功</p>
<p>上面的命令换成脚本</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">BLOG_DIR=&quot;/opt/1panel/apps/openresty/openresty/www/sites/blog.butlanys.de/index&quot;</span><br><span class="line"></span><br><span class="line">mkdir -p &quot;$BLOG_DIR&quot;</span><br><span class="line"></span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br><span class="line"></span><br><span class="line">rm -rf &quot;$BLOG_DIR/*&quot;</span><br><span class="line">cp -r /opt/blog/hexo/public/* &quot;$BLOG_DIR/&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;success!&quot;</span><br></pre></td></tr></table></figure>

<p>至此，结束</p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>bash</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>cloudflare tunnel优选IP</title>
    <url>/posts/204d8c5f/</url>
    <content><![CDATA[<p><strong>总所周知，cloudflare默认分配的IP都在美国，轻则速度慢运气不好分配的还是被GFW拦截的</strong></p>
<p>本教程需要：</p>
<p>一张万事达&#x2F;visa过cloudflare for saas验证</p>
<p>两条域名，一条用于优选，一条托管到cloudfalre</p>
<h4 id="一、配置cloudflared"><a href="#一、配置cloudflared" class="headerlink" title="一、配置cloudflared"></a>一、配置cloudflared</h4><ul>
<li>cloudflared可在<a href="https://github.com/cloudflare/cloudflared/">cloudflare&#x2F;cloudflared: Cloudflare Tunnel client (formerly Argo Tunnel) (github.com)</a>上获取</li>
</ul>
<h5 id="部署方式（可选）"><a href="#部署方式（可选）" class="headerlink" title="部署方式（可选）"></a>部署方式（可选）</h5><ul>
<li>本教程以docker为例</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker run -d --name cloudflared_status --network=host alpine sleep infinity</span><br></pre></td></tr></table></figure>

<h5 id="下载cloudflared"><a href="#下载cloudflared" class="headerlink" title="下载cloudflared"></a>下载cloudflared</h5><p>这里以arm64为例</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">wget -O /usr/bin/cloudflared https://github.hqycloud.top/https://github.com/cloudflare/cloudflared/releases/download/2024.4.1/cloudflared-linux-arm64</span><br></pre></td></tr></table></figure>

<h5 id="设置权限"><a href="#设置权限" class="headerlink" title="设置权限"></a>设置权限</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chmod 777 /usr/bin/cloudflared</span><br></pre></td></tr></table></figure>

<h5 id="查看版本号"><a href="#查看版本号" class="headerlink" title="查看版本号"></a>查看版本号</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cloudflared version</span><br></pre></td></tr></table></figure>

<h5 id="登录cloudflared"><a href="#登录cloudflared" class="headerlink" title="登录cloudflared"></a>登录cloudflared</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cloudflared tunnel login</span><br></pre></td></tr></table></figure>

<h5 id="创建隧道并命名"><a href="#创建隧道并命名" class="headerlink" title="创建隧道并命名"></a>创建隧道并命名</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cloudflared tunnel create 隧道名</span><br></pre></td></tr></table></figure>

<ul>
<li>隧道名可以自定义，但不能重复！</li>
</ul>
<h5 id="查看隧道列表"><a href="#查看隧道列表" class="headerlink" title="查看隧道列表"></a>查看隧道列表</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cloudflared tunnel list</span><br></pre></td></tr></table></figure>

<h5 id="创建配置文件"><a href="#创建配置文件" class="headerlink" title="创建配置文件"></a>创建配置文件</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo &#x27;url: http://localhost:8000</span><br><span class="line">tunnel: &lt;Tunnel-UUID&gt;</span><br><span class="line">credentials-file: /root/.cloudflared/&lt;Tunnel-UUID&gt;.json&#x27; &gt; .cloudflared/config.yml</span><br></pre></td></tr></table></figure>

<p>这里的Tunnel-UUID在隧道列表可以看到</p>
<p><em>查看创建好的config.yml</em></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat config.yml</span><br></pre></td></tr></table></figure>

<h5 id="设置域名"><a href="#设置域名" class="headerlink" title="设置域名"></a>设置域名</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cloudflared tunnel route dns &lt;UUID or NAME&gt; &lt;hostname&gt;</span><br></pre></td></tr></table></figure>

<p>UUID和NAME二选一，uuid查看隧道列表就能看到，name是你创建时输入的名字</p>
<p>hostname填的是托管在cloudflare的子域，不需要完整的域名</p>
<p>例如：tunnel-cdn.test.com（托管在cloudflare</p>
<p>则只需要填tunnel-cdn</p>
<h5 id="测试隧道是否正常"><a href="#测试隧道是否正常" class="headerlink" title="测试隧道是否正常"></a>测试隧道是否正常</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cloudflared tunnel run &lt;UUID or NAME&gt;</span><br></pre></td></tr></table></figure>

<p>访问托管在cloudflare的隧道子域查看是否正常</p>
<p>如果正常可继续看下一步，如果打不开并报错，请移步至cloudflare文档</p>
<h5 id="在后台运行隧道"><a href="#在后台运行隧道" class="headerlink" title="在后台运行隧道"></a>在后台运行隧道</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nohup cloudflared tunnel run &lt;UUID or NAME&gt; &amp;</span><br></pre></td></tr></table></figure>

<h4 id="二、配置优选IP"><a href="#二、配置优选IP" class="headerlink" title="二、配置优选IP"></a>二、配置优选IP</h4><h5 id="开通cloudflare-for-saas服务"><a href="#开通cloudflare-for-saas服务" class="headerlink" title="开通cloudflare for saas服务"></a>开通cloudflare for saas服务</h5><p>需要绑卡，这里不过多赘述</p>
<h5 id="设置回退域"><a href="#设置回退域" class="headerlink" title="设置回退域"></a>设置回退域</h5><p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/5/image_01ef7296fe69d35d4ec735ff7050b501.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;5&#x2F;image_01ef7296fe69d35d4ec735ff7050b501.png"></p>
<p>回退域必须设置为与隧道绑定的域名</p>
<h5 id="设置访问域名"><a href="#设置访问域名" class="headerlink" title="设置访问域名"></a>设置访问域名</h5><p>添加一个自定义主机名</p>
<p>域名填公开访问的域名（必须托管在其他dns服务商，否则cloudflare会检测</p>
<p>验证方式选TXT</p>
<h4 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h4><p>在验证过程中，需要把解析设为回退域，否则验证不通过</p>
<p>等待证书状态和主机名状态都显示有效后访问一下试试</p>
<p>访问成功后就可以把解析设置为cf的任意IP</p>
<ul>
<li>找cloudflare速度快的IP→<a href="https://github.com/XIU2/CloudflareSpeedTest">XIU2&#x2F;CloudflareSpeedTest: 🌩「自选优选 IP」测试 Cloudflare CDN 延迟和速度，获取最快 IP ！当然也支持其他 CDN &#x2F; 网站 IP ~ (github.com)</a></li>
</ul>
]]></content>
      <categories>
        <category>cloudflare</category>
      </categories>
  </entry>
  <entry>
    <title>cloudflare优选IP</title>
    <url>/posts/39316/</url>
    <content><![CDATA[<p>这篇文章补全<a href="https://blog.hqycloud.top/posts/204d8c5f/">cloudflare tunnel优选IP | butlanys的博客 (hqycloud.top)</a>教程中未详细讲述cloudflare优选IP的内容</p>
<blockquote>
<p>注意：开通此服务需要准备一张信用卡（貌似黑卡也能过？）</p>
</blockquote>
<blockquote>
<p>需准备两个域名，两个域名需分别托管到cloudflare和支持地域解析的服务商，这里推荐<a href="https://www.huaweicloud.com/">共建智能世界云底座-华为云 (huaweicloud.com)</a> 因为他的tll值可以设置的非常小</p>
</blockquote>
<h1 id="cloudflare面板"><a href="#cloudflare面板" class="headerlink" title="cloudflare面板"></a>cloudflare面板</h1><blockquote>
<p>将回退域托管到cloudflare上</p>
</blockquote>
<p>此域名只需要可托管到cloudflare即可，并不需要再花大价钱购买域名，这里推荐1刀一年的数字xyz</p>
<h3 id="添加域名"><a href="#添加域名" class="headerlink" title="添加域名"></a>添加域名</h3><p>点击添加域——输入或注册域名——点击继续</p>
<p>跟着配置向导走，最后会要求将nameserver修改为cloudflare提供的两条ns记录</p>
<p>在你的注册域名的服务商修改ns记录，例如：</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_c6b2ac0573d7ff49683d9da2d0df0329.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_c6b2ac0573d7ff49683d9da2d0df0329.png"></p>
<p>添加好以后回到cloudflare，点击立刻检查名称服务器即可，cloudflare检测后会给邮箱发一封邮件</p>
<h3 id="添加一条指向源站的记录"><a href="#添加一条指向源站的记录" class="headerlink" title="添加一条指向源站的记录"></a>添加一条指向源站的记录</h3><p>进入域名后在左侧面板进入DNS——记录</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_b36f1edfb155bce89ee43e720d486463.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_b36f1edfb155bce89ee43e720d486463.png"></p>
<p>添加一条指向源站的dns记录</p>
<p>例如：</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_719d6a0f9e37aebda98a80b27b44bdde.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_719d6a0f9e37aebda98a80b27b44bdde.png"></p>
<p>这里的&lt;代理状态&gt;需要打开</p>
<h3 id="开通cloudflare-for-saas"><a href="#开通cloudflare-for-saas" class="headerlink" title="开通cloudflare for saas"></a>开通cloudflare for saas</h3><p>添加好后点域名，在左侧面板中按下图进入saas</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_924038f0a2a933cfb518b1c10423fb9a.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_924038f0a2a933cfb518b1c10423fb9a.png"></p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_cf2773496abda9a87c68c9e53cd81320.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_cf2773496abda9a87c68c9e53cd81320.png"></p>
<p>点击启用cloudflare for saas</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_64a0071114296bada6fe3a7865ec80c7.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_64a0071114296bada6fe3a7865ec80c7.png"></p>
<p>这里会要求填写信用卡信息，如果你的卡段和环境足够干净，可以免验卡，或者也可以直接绑定PayPal</p>
<p>点击确认后，返回刚才的页面</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_df762f40b7ec2fd5ad768f48d256f4d2.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_df762f40b7ec2fd5ad768f48d256f4d2.png"></p>
<p>添加一个回退源</p>
<p>这里需要填刚才那条指向源站的域名（完整）</p>
<h3 id="添加域名-1"><a href="#添加域名-1" class="headerlink" title="添加域名"></a>添加域名</h3><p>点击添加自定义主机名</p>
<p>填写需要优选的域名，例如：</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_272f521a6650a555af1cceaea710d6a1.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_272f521a6650a555af1cceaea710d6a1.png"></p>
<p>点击添加自定义主机名</p>
<h1 id="cname接入cloudflare"><a href="#cname接入cloudflare" class="headerlink" title="cname接入cloudflare"></a>cname接入cloudflare</h1><h3 id="接入支持地域解析的服务商"><a href="#接入支持地域解析的服务商" class="headerlink" title="接入支持地域解析的服务商"></a>接入支持地域解析的服务商</h3><blockquote>
<p>这里以华为云为例</p>
</blockquote>
<p>打开华为云<a href="https://www.huaweicloud.com/">共建智能世界云底座-华为云 (huaweicloud.com)</a> 登陆后点右上角控制台——左上角更多搜索域名，选择<em>域名解析服务</em> ——选择公网域名——创建公网域名</p>
<p>创建好域名后在购买域名的服务商添加华为云的ns记录</p>
<blockquote>
<p>ns1.huaweicloud-dns.org</p>
<p>ns1.huaweicloud-dns.net</p>
<p>ns1.huaweicloud-dns.cn</p>
<p>ns1.huaweicloud-dns.com</p>
</blockquote>
<h3 id="添加需要优选的域名"><a href="#添加需要优选的域名" class="headerlink" title="添加需要优选的域名"></a>添加需要优选的域名</h3><p>添加完成后点管理解析——添加记录集</p>
<p>这里需要先cname到你刚才填写的回退源，例如：</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_1aeb98fc69978715c025358a17b5a88f.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_1aeb98fc69978715c025358a17b5a88f.png"></p>
<h3 id="添加证书验证的记录"><a href="#添加证书验证的记录" class="headerlink" title="添加证书验证的记录"></a>添加证书验证的记录</h3><p>这里推荐使用cloudflare的<strong>自定义主机名的 DCV 委派</strong> ，因为只需添加一次，后面的证书颁发将会自动验证</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_f69f0af222cabeed1e9f57bc0885cd3e.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_f69f0af222cabeed1e9f57bc0885cd3e.png"></p>
<p>华为云添加：</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_d47ce5ed4d396788fb8a6700b52f0956.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_d47ce5ed4d396788fb8a6700b52f0956.png"></p>
<p>然后等待cloudflare那边生效</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_b0576e0a8ffcbb9d7aa4b7a84cd945dc.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_b0576e0a8ffcbb9d7aa4b7a84cd945dc.png"></p>
<p>生效后，就可以自定义cloudflare的cdn ip了</p>
<p>华为云解析管理中添加一个cname地域解析，选择中国大陆，记录填优选IP或优选域名，别人定时更新的优选域名都行</p>
<p>当然，如果你想自己也搞个优选域名，这里推荐<a href="https://github.com/netcccyun/dnsmgr">netcccyun&#x2F;dnsmgr: 彩虹聚合DNS管理系统 (github.com)</a></p>
<p>随便找个虚拟主机或自己部署完之后，添加华为云服务商，接着添加一个域名</p>
<p>在左侧CF优选IP中添加一个子域</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_7656a5a28353bd3d656f0bb82af34ab0.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_7656a5a28353bd3d656f0bb82af34ab0.png"></p>
<p>配置好后提交，然后手动更新一遍，再将华为云中的域名cname解析到这条优选域上</p>
<h1 id="最后！！！"><a href="#最后！！！" class="headerlink" title="最后！！！"></a>最后！！！</h1><p>然后就是喜闻乐见的全国绿（</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_bd2c40a89b5cde3778ccedb59ef4139e.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_bd2c40a89b5cde3778ccedb59ef4139e.png"></p>
]]></content>
      <categories>
        <category>cloudflare</category>
      </categories>
  </entry>
  <entry>
    <title>cmhk融合怪留档</title>
    <url>/posts/5877/</url>
    <content><![CDATA[<p>刚开业的灵车，一看这么便宜mjj症就犯了😆 </p>
<p><img src="https://file.butlanys.de/img/0d282e1ca564799656a54248ec1a9a19.png"></p>
<p>链接（带aff，灵车谨慎购买）：<a href="https://cmhk.io/aff.php?aff=5">https://cmhk.io/aff.php?aff=5</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">--------------------- A Bench Script By spiritlhl ----------------------</span><br><span class="line">                   测评频道: https://t.me/vps_reviews                  </span><br><span class="line">VPS融合怪版本：2025.01.24</span><br><span class="line">Shell项目地址：https://github.com/spiritLHLS/ecs</span><br><span class="line">Go项目地址：https://github.com/oneclickvirt/ecs</span><br><span class="line">---------------------基础信息查询--感谢所有开源项目---------------------</span><br><span class="line"> CPU 型号          : Intel(R) Xeon(R) Gold 6133 CPU @ 2.50GHz</span><br><span class="line"> CPU 核心数        : 1</span><br><span class="line"> CPU 频率          : 2494.140 MHz</span><br><span class="line"> CPU 缓存          : L1: 32.00 KB / L2: 4.00 MB / L3: 16.00 MB</span><br><span class="line"> AES-NI指令集      : ✔ Enabled</span><br><span class="line"> VM-x/AMD-V支持    : ✔ Enabled</span><br><span class="line"> 内存              : 178.37 MiB / 467.90 MiB</span><br><span class="line"> Swap              : [ no swap partition or swap file detected ]</span><br><span class="line"> 硬盘空间          : 1.66 GiB / 7.58 GiB</span><br><span class="line"> 启动盘路径        : /dev/vda1</span><br><span class="line"> 系统在线时间      : 0 days, 0 hour 27 min</span><br><span class="line"> 负载              : 0.84, 0.35, 0.13</span><br><span class="line"> 系统              : Ubuntu 22.04 LTS (x86_64)</span><br><span class="line"> 架构              : x86_64 (64 Bit)</span><br><span class="line"> 内核              : 5.15.0-30-generic</span><br><span class="line"> TCP加速方式       : cubic</span><br><span class="line"> 虚拟化架构        : KVM</span><br><span class="line"> NAT类型           : Port Restricted Cone</span><br><span class="line"> IPV4 ASN          : AS137872 China Mobile Hong Kong Company Limited</span><br><span class="line"> IPV4 位置         : Hong Kong / Hong Kong / HK</span><br><span class="line">----------------------CPU测试--通过sysbench测试-------------------------</span><br><span class="line"> -&gt; CPU 测试中 (Fast Mode, 1-Pass @ 5sec)</span><br><span class="line"> 1 线程测试(单核)得分:          663 Scores</span><br><span class="line">---------------------内存测试--感谢lemonbench开源-----------------------</span><br><span class="line"> -&gt; 内存测试 Test (Fast Mode, 1-Pass @ 5sec)</span><br><span class="line"> 单线程读测试:          16615.70 MB/s</span><br><span class="line"> 单线程写测试:          13116.89 MB/s</span><br><span class="line">------------------磁盘<span class="built_in">dd</span>读写测试--感谢lemonbench开源--------------------</span><br><span class="line"> -&gt; 磁盘IO测试中 (4K Block/1M Block, Direct Mode)</span><br><span class="line"> 测试操作               写速度                                  读速度</span><br><span class="line"> 100MB-4K Block         23.7 MB/s (5783 IOPS, 4.43s)            32.7 MB/s (7994 IOPS, 3.20s)</span><br><span class="line"> 1GB-1M Block           560 MB/s (534 IOPS, 1.87s)              2.1 GB/s (2034 IOPS, 0.49s)</span><br><span class="line">---------------------磁盘fio读写测试--感谢yabs开源----------------------</span><br><span class="line">Block Size | 4k            (IOPS) | 64k           (IOPS)</span><br><span class="line">  ------   | ---            ----  | ----           ---- </span><br><span class="line">Read       | 60.33 MB/s   (15.0k) | 1.02 GB/s    (15.9k)</span><br><span class="line">Write      | 60.46 MB/s   (15.1k) | 1.02 GB/s    (16.0k)</span><br><span class="line">Total      | 120.79 MB/s  (30.1k) | 2.04 GB/s    (31.9k)</span><br><span class="line">           |                      |                   </span><br><span class="line">Block Size | 512k          (IOPS) | 1m            (IOPS)</span><br><span class="line">  ------   | ---            ----  | ----           ---- </span><br><span class="line">Read       | 1.89 GB/s     (3.6k) | 1.82 GB/s     (1.7k)</span><br><span class="line">Write      | 1.99 GB/s     (3.8k) | 1.95 GB/s     (1.9k)</span><br><span class="line">Total      | 3.88 GB/s     (7.5k) | 3.77 GB/s     (3.6k)</span><br><span class="line">------------流媒体解锁--基于oneclickvirt/CommonMediaTests开源-----------</span><br><span class="line">以下测试的解锁地区是准确的，但是不是完整解锁的判断可能有误，这方面仅作参考使用</span><br><span class="line">----------------Netflix-----------------</span><br><span class="line">[IPV4]</span><br><span class="line">您的出口IP完整解锁Netflix，支持非自制剧的观看</span><br><span class="line">NF所识别的IP地域信息：中国香港</span><br><span class="line">[IPV6]</span><br><span class="line">您的网络可能没有正常配置IPv6，或者没有IPv6网络接入</span><br><span class="line">----------------Youtube-----------------</span><br><span class="line">[IPV4]</span><br><span class="line">连接方式: Google Global CacheCDN (ISP Cooperation)</span><br><span class="line">ISP运营商: CMHK</span><br><span class="line">视频缓存节点地域: 中国香港(HKG3)</span><br><span class="line">Youtube识别地域: 中国香港(HK)</span><br><span class="line">[IPV6]</span><br><span class="line">Youtube在您的出口IP所在的国家不提供服务</span><br><span class="line">---------------DisneyPlus---------------</span><br><span class="line">[IPV4]</span><br><span class="line">当前出口所在地区解锁DisneyPlus</span><br><span class="line">区域：HK 区</span><br><span class="line">[IPV6]</span><br><span class="line">DisneyPlus在您的出口IP所在的国家不提供服务</span><br><span class="line">解锁Netflix，Youtube，DisneyPlus上面和下面进行比较，不同之处自行判断</span><br><span class="line">----------------流媒体解锁--感谢RegionRestrictionCheck开源--------------</span><br><span class="line"> 以下为IPV4网络测试，若无IPV4网络则无输出</span><br><span class="line">============[ Multination ]============</span><br><span class="line"> Dazn:                                  Yes (Region: HK)</span><br><span class="line"> Disney+:                               Yes (Region: HK)</span><br><span class="line"> Netflix:                               Yes (Region: HK)</span><br><span class="line"> YouTube Premium:                       Yes (Region: HK)</span><br><span class="line"> Amazon Prime Video:                    Yes (Region: HK)</span><br><span class="line"> TVBAnywhere+:                          No</span><br><span class="line"> Spotify Registration:                  Yes (Region: HK)</span><br><span class="line"> OneTrust Region:                       HK [Kwun Tong]</span><br><span class="line"> iQyi Oversea Region:                   HK</span><br><span class="line"> Bing Region:                           HK</span><br><span class="line"> YouTube CDN:                           Failed (Network Connection)</span><br><span class="line"> Netflix Preferred CDN:                 [China Mobile Hong Kong] <span class="keyword">in</span> [Hong Kong]</span><br><span class="line"> ChatGPT:                               No (Only Available with Mobile APP)</span><br><span class="line"> Google Gemini:                         No</span><br><span class="line"> Claude:                                No</span><br><span class="line"> Wikipedia Editability:                 Yes</span><br><span class="line"> Google Play Store:                     Hong Kong </span><br><span class="line"> Google Search CAPTCHA Free:            Yes</span><br><span class="line"> Steam Currency:                        HKD</span><br><span class="line"> ---Forum---</span><br><span class="line"> Reddit:                                Yes</span><br><span class="line">=======================================</span><br><span class="line"> 以下为IPV6网络测试，若无IPV6网络则无输出</span><br><span class="line">---------------TikTok解锁--感谢lmc999的源脚本及fscarmen PR--------------</span><br><span class="line"> Tiktok Region:         Failed</span><br><span class="line">-------------IP质量检测--基于oneclickvirt/securityCheck使用-------------</span><br><span class="line">数据仅作参考，不代表100%准确，如果和实际情况不一致请手动查询多个数据库比对</span><br><span class="line">以下为各数据库编号，输出结果后将自带数据库来源对应的编号</span><br><span class="line">ipinfo数据库  [0] | scamalytics数据库 [1] | virustotal数据库   [2] | abuseipdb数据库   [3] | ip2location数据库    [4]</span><br><span class="line">ip-api数据库  [5] | ipwhois数据库     [6] | ipregistry数据库   [7] | ipdata数据库      [8] | db-ip数据库          [9]</span><br><span class="line">ipapiis数据库 [A] | ipapicom数据库    [B] | bigdatacloud数据库 [C] | cheervision数据库 [D] | ipqualityscore数据库 [E]</span><br><span class="line">IPV4:</span><br><span class="line">安全得分:</span><br><span class="line">声誉(越高越好): 0 [2] </span><br><span class="line">信任得分(越高越好): 98 [8] </span><br><span class="line">VPN得分(越低越好): 0 [8] </span><br><span class="line">代理得分(越低越好): 0 [8] </span><br><span class="line">社区投票-无害: 0 [2] </span><br><span class="line">社区投票-恶意: 0 [2] </span><br><span class="line">威胁得分(越低越好): 7 [8]</span><br><span class="line">欺诈得分(越低越好): 2 [1] </span><br><span class="line">滥用得分(越低越好): 0 [3] </span><br><span class="line">ASN滥用得分(越低越好): 0.0002 (Very Low) [A] </span><br><span class="line">公司滥用得分(越低越好): 0.0002 (Very Low) [A]</span><br><span class="line">威胁级别: low [9 B] </span><br><span class="line">黑名单记录统计:(有多少黑名单网站有记录):</span><br><span class="line">无害记录数: 0 [2]  恶意记录数: 0 [2]  可疑记录数: 0 [2]  无记录数: 94 [2]  </span><br><span class="line">安全信息:</span><br><span class="line">使用类型: MobileISP [3] business [8] unknown [C] isp [0 7 A] consumer [9]</span><br><span class="line">公司类型: isp [0 7 A] </span><br><span class="line">是否云提供商: No [7 D] </span><br><span class="line">是否数据中心: No [0 1 5 6 8 A C] </span><br><span class="line">是否移动设备: Yes [5 A] No [C]</span><br><span class="line">是否代理: No [0 1 4 5 6 7 8 9 A B C D] </span><br><span class="line">是否VPN: No [0 1 6 7 A C D] </span><br><span class="line">是否TorExit: No [1 7 D] </span><br><span class="line">是否Tor出口: No [1 7 D] </span><br><span class="line">是否网络爬虫: No [9 A B] </span><br><span class="line">是否匿名: No [1 6 7 8 D] </span><br><span class="line">是否攻击者: No [7 8 D] </span><br><span class="line">是否滥用者: No [7 8 A C D] </span><br><span class="line">是否威胁: No [7 8 C D] </span><br><span class="line">是否中继: No [0 7 8 C D] </span><br><span class="line">是否Bogon: No [7 8 A C D] </span><br><span class="line">DNS-黑名单: 314(Total_Check) 0(Clean) 7(Blacklisted) 12(Other) </span><br><span class="line">Google搜索可行性：NO</span><br><span class="line">-------------邮件端口检测--基于oneclickvirt/portchecker开源-------------</span><br><span class="line">Platform  SMTP  SMTPS POP3  POP3S IMAP  IMAPS</span><br><span class="line">LocalPort ✔     ✔     ✔     ✔     ✔     ✔  </span><br><span class="line">QQ        ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">163       ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">Sohu      ✔     ✔     ✘     ✘     ✔     ✘  </span><br><span class="line">Yandex    ✘     ✘     ✔     ✘     ✘     ✘  </span><br><span class="line">Gmail     ✔     ✔     ✘     ✘     ✘     ✘  </span><br><span class="line">Outlook   ✔     ✘     ✔     ✘     ✔     ✘  </span><br><span class="line">Office365 ✔     ✘     ✔     ✘     ✔     ✘  </span><br><span class="line">Yahoo     ✔     ✔     ✘     ✘     ✘     ✘  </span><br><span class="line">MailCOM   ✘     ✘     ✔     ✘     ✘     ✘  </span><br><span class="line">MailRU    ✔     ✔     ✘     ✘     ✘     ✘  </span><br><span class="line">AOL       ✔     ✔     ✘     ✘     ✘     ✘  </span><br><span class="line">GMX       ✔     ✘     ✔     ✘     ✔     ✘  </span><br><span class="line">Sina      ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">Apple     ✘     ✘     ✘     ✘     ✘     ✘  </span><br><span class="line">FastMail  ✘     ✔     ✘     ✘     ✘     ✘  </span><br><span class="line">ProtonMail✘     ✘     ✘     ✘     ✘     ✘  </span><br><span class="line">MXRoute   ✔     ✘     ✔     ✘     ✔     ✘  </span><br><span class="line">Namecrane ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">XYAMail   ✘     ✘     ✘     ✘     ✘     ✘  </span><br><span class="line">ZohoMail  ✘     ✔     ✘     ✘     ✘     ✘  </span><br><span class="line">Inbox_eu  ✔     ✔     ✔     ✘     ✘     ✘  </span><br><span class="line">Free_fr   ✘     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">----------------三网回程--基于oneclickvirt/backtrace开源----------------</span><br><span class="line">北京电信 219.141.140.10  电信CN2GIA [精品线路] </span><br><span class="line">北京联通 202.106.195.68  移动CMI    [普通线路] </span><br><span class="line">北京移动 221.179.155.161 移动CMI    [普通线路] </span><br><span class="line">上海电信 202.96.209.133  电信CN2GIA [精品线路] </span><br><span class="line">上海联通 210.22.97.1     移动CMI    [普通线路] </span><br><span class="line">上海移动 211.136.112.200 移动CMI    [普通线路] </span><br><span class="line">广州电信 58.60.188.222   电信CN2GIA [精品线路] </span><br><span class="line">广州联通 210.21.196.6    移动CMI    [普通线路] </span><br><span class="line">广州移动 120.196.165.24  移动CMI    [普通线路] </span><br><span class="line">成都电信 61.139.2.69     电信CN2GIA [精品线路] </span><br><span class="line">成都联通 119.6.6.6       移动CMI    [普通线路] </span><br><span class="line">成都移动 211.137.96.205  移动CMI    [普通线路] </span><br><span class="line">准确线路自行查看详细路由，本测试结果仅作参考</span><br><span class="line">同一目标地址多个线路时，可能检测已越过汇聚层，除了第一个线路外，后续信息可能无效</span><br><span class="line">---------------------回程路由--感谢fscarmen开源及PR---------------------</span><br><span class="line">依次测试电信/联通/移动经过的地区及线路，核心程序来自nexttrace，请知悉!</span><br><span class="line">广州电信 58.60.188.222</span><br><span class="line">0.26 ms         * RFC1918</span><br><span class="line">2.64 ms         * RFC1918</span><br><span class="line">3.71 ms         AS24429 中国 香港 alibabacloud.com</span><br><span class="line">5.22 ms         AS24429 中国 香港 alibabacloud.com</span><br><span class="line">5.09 ms         AS4809 [CTHKI-HK] 中国 香港 www.chinatelecom.com.cn 电信</span><br><span class="line">7.05 ms         * [CN2-BackBone] 中国 香港 chinatelecom.cn 电信</span><br><span class="line">9.68 ms         * [CN2-BackBone] 中国 广东 广州 chinatelecom.cn 电信</span><br><span class="line">11.30 ms        * [CN2-Global] 中国 广东 广州 chinatelecom.cn 电信</span><br><span class="line">14.03 ms        * [CN2-BackBone] 中国 广东 广州 chinatelecom.cn 电信</span><br><span class="line">17.81 ms        * [CN2-BackBone] 中国 广东 广州 chinatelecom.cn 电信</span><br><span class="line">24.28 ms        AS4134 中国 广东 佛山市 www.chinatelecom.com.cn 电信</span><br><span class="line">16.57 ms        AS4134 中国 广东 深圳 福田区 www.chinatelecom.com.cn 电信</span><br><span class="line">广州联通 210.21.196.6</span><br><span class="line">0.43 ms         * RFC1918</span><br><span class="line">2.41 ms         * RFC1918</span><br><span class="line">3.92 ms         AS58453 [CMI-INT] 中国 香港 cmi.chinamobile.com 移动</span><br><span class="line">5.26 ms         AS58453 [CMI-INT] 中国 香港 cmi.chinamobile.com 移动</span><br><span class="line">105.65 ms       AS58453 [CMI-INT] 中国 香港 cmi.chinamobile.com 移动</span><br><span class="line">29.84 ms        AS58453 [CMI-INT] 中国 上海 cmi.chinamobile.com 移动</span><br><span class="line">31.17 ms        AS9808 [CMNET] 中国 上海 X-I chinamobileltd.com 移动</span><br><span class="line">30.80 ms        AS9808 [CMNET] 中国 上海 I-C chinamobileltd.com 移动</span><br><span class="line">140.94 ms       AS9808 [CMNET] 中国 上海 chinamobileltd.com 移动</span><br><span class="line">34.91 ms        AS9808 [CMNET] 中国 广东 广州 chinamobileltd.com 移动</span><br><span class="line">92.67 ms        AS4837 [CU169-BACKBONE] 中国 广东 广州 chinaunicom.cn</span><br><span class="line">* ms    AS4837 [CU169-BACKBONE] 中国 广东 广州 chinaunicom.cn</span><br><span class="line">44.24 ms        AS17816 [UNICOM-GD] 中国 广东 深圳 chinaunicom.cn 联通</span><br><span class="line">45.70 ms        AS17623 [APNIC-AP] 中国 广东 深圳 chinaunicom.cn 联通</span><br><span class="line">44.19 ms        AS17623 中国 广东 深圳 宝安区 chinaunicom.cn 联通</span><br><span class="line">广州移动 120.196.165.24</span><br><span class="line">0.37 ms         * RFC1918</span><br><span class="line">2.67 ms         * RFC1918</span><br><span class="line">3.22 ms         AS58453 [CMI-INT] 中国 香港 cmi.chinamobile.com 移动</span><br><span class="line">4.83 ms         AS58453 [CMI-INT] 中国 香港 cmi.chinamobile.com 移动</span><br><span class="line">4.34 ms         AS58453 [CMI-INT] 中国 香港 cmi.chinamobile.com 移动</span><br><span class="line">9.59 ms         AS58453 [CMI-INT] 中国 广东 广州 X-I cmi.chinamobile.com 移动</span><br><span class="line">9.62 ms         AS9808 [CMNET] 中国 广东 广州 chinamobileltd.com 移动</span><br><span class="line">9.93 ms         AS9808 [CMNET] 中国 广东 广州 I-C chinamobileltd.com 移动</span><br><span class="line">113.19 ms       AS9808 [CMNET] 中国 广东 广州 chinamobileltd.com 移动</span><br><span class="line">11.79 ms        AS9808 [CMNET] 中国 广东 广州 chinamobileltd.com 移动</span><br><span class="line">15.43 ms        AS9808 [CMNET] 中国 广东 广州 chinamobileltd.com 移动</span><br><span class="line">13.92 ms        AS56040 [APNIC-AP] 中国 广东 深圳 gd.10086.cn 移动</span><br><span class="line">--------------------自动更新测速节点列表--本脚本原创--------------------</span><br><span class="line">位置             上传速度        下载速度        延迟     丢包率</span><br><span class="line">Speedtest.net    123.34 Mbps     123.30 Mbps     2.95     0.0%</span><br><span class="line">中国香港         123.25 Mbps     122.09 Mbps     6.81     0.0%</span><br><span class="line">新加坡           123.20 Mbps     123.43 Mbps     35.61    0.0%</span><br><span class="line">联通成都         123.32 Mbps     2.55 Mbps       62.46    NULL</span><br><span class="line">电信浙江         123.05 Mbps     122.34 Mbps     33.97    NULL</span><br><span class="line">电信浙江         121.87 Mbps     123.10 Mbps     42.78    NULL</span><br><span class="line">移动杭州5G       123.18 Mbps     123.75 Mbps     35.13    0.0%</span><br><span class="line">移动Beijing      123.29 Mbps     138.34 Mbps     485.33   NULL</span><br><span class="line">------------------------------------------------------------------------</span><br><span class="line"> 总共花费      : 8 分 5 秒</span><br><span class="line"> 时间          : Sat Jan 25 07:03:19 UTC 2025</span><br><span class="line">------------------------------------------------------------------------</span><br><span class="line">  短链:</span><br><span class="line">    https://paste.spiritlhl.net/#/show/xnw55.txt</span><br><span class="line">    http://hpaste.spiritlhl.net/#/show/xnw55.txt</span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>docker安装adguard home (macvlan独享ip)</title>
    <url>/posts/6628/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><strong>此教程适用于家里有台闲置的、可以长期开机的软路由或支持安装docker的系统使用，目前主流的教程都是bridge端口映射，但这种网络模式局限性非常大（需占用53、67…………等一系列重要的端口），所以才有现在这篇教程</strong></p>
<h1 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a>安装docker</h1><p>如果选择1panel来管理容器则不需要这一步（推荐）</p>
<p><em>国际</em></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -fsSL https://get.docker.com -o get-docker.sh</span><br><span class="line">sh get-docker.sh</span><br></pre></td></tr></table></figure>

<p><em>国内（这里以清华源为例）</em></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> DOWNLOAD_URL=<span class="string">&quot;https://mirrors.tuna.tsinghua.edu.cn/docker-ce&quot;</span></span><br><span class="line"><span class="comment"># 如您使用 curl</span></span><br><span class="line">curl -fsSL https://get.docker.com/ | sh</span><br><span class="line"><span class="comment"># 如您使用 wget</span></span><br><span class="line">wget -O- https://get.docker.com/ | sh</span><br></pre></td></tr></table></figure>

<p><em>检查是否安装成功</em></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker version</span><br></pre></td></tr></table></figure>

<h1 id="安装docker-compose"><a href="#安装docker-compose" class="headerlink" title="安装docker-compose"></a>安装docker-compose</h1><p>如果选择1panel来管理容器则不需要这一步（推荐）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -L <span class="string">&quot;https://github.com/docker/compose/releases/download/v2.29.1/docker-compose-<span class="subst">$(uname -s)</span>-<span class="subst">$(uname -m)</span>&quot;</span> -o /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ln</span> -s /usr/local/bin/docker-compose /usr/bin/docker-compose</span><br></pre></td></tr></table></figure>

<p><em>检查是否安装成功</em></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker-compose version</span><br></pre></td></tr></table></figure>

<h2 id="安装1panel（推荐）"><a href="#安装1panel（推荐）" class="headerlink" title="安装1panel（推荐）"></a>安装1panel（推荐）</h2><p><a href="https://1panel.cn/docs/installation/online_installation/">在线安装 - 1Panel 文档</a></p>
<h2 id="更换docker镜像源"><a href="#更换docker镜像源" class="headerlink" title="更换docker镜像源"></a>更换docker镜像源</h2><p><a href="https://1panel.cn/docs/user_manual/containers/setting/">配置 - 1Panel 文档</a></p>
<p>这里推荐<code>https://docker.1panel.live</code></p>
<h2 id="创建网络配置"><a href="#创建网络配置" class="headerlink" title="创建网络配置"></a>创建网络配置</h2><p>登录1panel——容器——网络——创建网络<br>名称自定，网络模式选<strong>macvlan</strong><br>剩下配置按你家实际网络环境填</p>
<h2 id="创建容器"><a href="#创建容器" class="headerlink" title="创建容器"></a>创建容器</h2><p>名称：adguardhome<br>镜像（手动输入）：adguard&#x2F;adguardhome<br>端口：暴露所有<br>网络：选择刚才创建的<strong>macvlan</strong>网络时填的名字<br>ipv4：你家的局域网空闲的IP，这里我填了192.168.3.254<br>挂载：</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/8/image_893d93e970aac846f0f658d603657bbc.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;8&#x2F;image_893d93e970aac846f0f658d603657bbc.png"><br><code>/opt/adguardhome/conf</code> <code>/opt/adguardhome/work</code></p>
<p><em>没提到的不要填</em></p>
<p>填完后点确认，等待1panel响应后访问<code>容器IP:3000</code>即可进入安装页</p>
<h2 id="排障"><a href="#排障" class="headerlink" title="排障"></a>排障</h2><p>容器启动后仍然无法访问<br>打开网卡混杂模式</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ip <span class="built_in">link</span> <span class="built_in">set</span> &lt;主网卡名称&gt; promisc on</span><br></pre></td></tr></table></figure>

<p>如果还是不行</p>
<p>可以建一个使用相同网络的容器（奇奇怪怪的bug用奇奇怪怪的方法解决😓 ）</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/8/image_9c7bdd7ab8df7f28d650105291a45283.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;8&#x2F;image_9c7bdd7ab8df7f28d650105291a45283.png"></p>
<p>这个容器不需要跑任何东西，让它保持开着就行，所以1panel创建该容器时可以选alpine容器Entrypoint项里填</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;sleep&#x27; &#x27;infinity&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="推荐的上游DNS"><a href="#推荐的上游DNS" class="headerlink" title="推荐的上游DNS"></a>推荐的上游DNS</h2><p><a href="https://dns.alidns.com/dns-query">https://dns.alidns.com/dns-query</a><br><a href="https://cloudflare-dns.com/dns-query">https://cloudflare-dns.com/dns-query</a></p>
<ul>
<li>不要使用无任何加密的dns，例如直接使用8.8.8.8（中国大陆会搞DNS劫持，例如运营商DNS解析raw.githubusercontent.com就会返回0.0.0.0😓 ）</li>
</ul>
]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>adguard home</tag>
        <tag>macvlan</tag>
      </tags>
  </entry>
  <entry>
    <title>netcup g11s测评</title>
    <url>/posts/48591/</url>
    <content><![CDATA[<blockquote>
<p>说实话，这家买鸡事挺多的，又是验账号欺诈又是kyc，客服效率也慢，事件经过参考：<a href="https://www.nodeseek.com/post-260497-1">https://www.nodeseek.com/post-260497-1</a></p>
</blockquote>
<h2 id="具体配置："><a href="#具体配置：" class="headerlink" title="具体配置："></a>具体配置：</h2><p><strong>Produktdetails</strong></p>
<ul>
<li>Leistungen</li>
</ul>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Specification</th>
</tr>
</thead>
<tbody><tr>
<td>Prozessor:</td>
<td>1 vCore</td>
</tr>
<tr>
<td>Arbeitsspeicher:</td>
<td>1 GB</td>
</tr>
<tr>
<td>Speicherplatz:</td>
<td>30 GB SSD</td>
</tr>
<tr>
<td>Netzwerkanbindung:</td>
<td>1 GBit&#x2F;s</td>
</tr>
<tr>
<td>Traffic:</td>
<td>Wenn der durchschnittliche Datenverkehr in den letzten 24 Stunden über 100 MBit&#x2F;s liegt, erfolgt eine vorübergehende Drosselung auf 100 MBit&#x2F;s</td>
</tr>
<tr>
<td>Local Block Storage:</td>
<td>Nicht mit Local Block Storage erweiterbar.</td>
</tr>
</tbody></table>
<ul>
<li>Vertragliches</li>
</ul>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Specification</th>
</tr>
</thead>
<tbody><tr>
<td>Einrichtungsgebühr:</td>
<td>0,00 € (inkl. 0% MwSt.)</td>
</tr>
<tr>
<td>Mindestvertragslaufzeit:</td>
<td>12 Monate</td>
</tr>
<tr>
<td>Abrechnungsperiode:</td>
<td>12 Monate</td>
</tr>
<tr>
<td>Versandkosten:</td>
<td>keine</td>
</tr>
</tbody></table>
<ul>
<li>Premium Funktionen (produktabhängig)</li>
</ul>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Available</th>
</tr>
</thead>
<tbody><tr>
<td>Fernwartungskonsole:</td>
<td>JA</td>
</tr>
<tr>
<td>DVD-Laufwerk für eigene ISO-Dateien:</td>
<td>JA</td>
</tr>
<tr>
<td>Import von eigenen Images:</td>
<td>JA</td>
</tr>
<tr>
<td>Snapshots (Copy-On-Write):</td>
<td>JA</td>
</tr>
</tbody></table>
<h2 id="具体配置（简体中文）"><a href="#具体配置（简体中文）" class="headerlink" title="具体配置（简体中文）"></a>具体配置（简体中文）</h2><p><strong>产品详情</strong></p>
<ul>
<li>服务</li>
</ul>
<table>
<thead>
<tr>
<th>功能</th>
<th>规格</th>
</tr>
</thead>
<tbody><tr>
<td>处理器:</td>
<td>1 vCore</td>
</tr>
<tr>
<td>内存:</td>
<td>1 GB</td>
</tr>
<tr>
<td>存储空间:</td>
<td>30 GB SSD</td>
</tr>
<tr>
<td>网络连接:</td>
<td>1 GBit&#x2F;s</td>
</tr>
<tr>
<td>流量:</td>
<td>如果过去24小时内的平均数据流量超过100 Mbit&#x2F;s，将临时限制为100 Mbit&#x2F;s</td>
</tr>
<tr>
<td>本地块存储:</td>
<td>不可通过本地块存储扩展.</td>
</tr>
</tbody></table>
<ul>
<li>合同相关</li>
</ul>
<table>
<thead>
<tr>
<th>功能</th>
<th>规格</th>
</tr>
</thead>
<tbody><tr>
<td>安装费:</td>
<td>0.00 欧元 (含 0% 增值税)</td>
</tr>
<tr>
<td>最短合同期限:</td>
<td>12 个月</td>
</tr>
<tr>
<td>计费周期:</td>
<td>12 个月</td>
</tr>
<tr>
<td>运费:</td>
<td>无</td>
</tr>
</tbody></table>
<ul>
<li>高级功能 (取决于产品)</li>
</ul>
<table>
<thead>
<tr>
<th>功能</th>
<th>是否可用</th>
</tr>
</thead>
<tbody><tr>
<td>远程维护控制台:</td>
<td>是</td>
</tr>
<tr>
<td>用于自有ISO文件的DVD驱动器:</td>
<td>是</td>
</tr>
<tr>
<td>导入自有镜像:</td>
<td>是</td>
</tr>
<tr>
<td>快照 (Copy-On-Write):</td>
<td>是</td>
</tr>
</tbody></table>
<h2 id="融合怪："><a href="#融合怪：" class="headerlink" title="融合怪："></a>融合怪：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--------------------- A Bench Script By spiritlhl ----------------------</span><br><span class="line">                   测评频道: https://t.me/vps_reviews              </span><br><span class="line">VPS融合怪版本：2025.01.27</span><br><span class="line">Shell项目地址：https://github.com/spiritLHLS/ecs</span><br><span class="line">Go项目地址：https://github.com/oneclickvirt/ecs</span><br><span class="line">---------------------基础信息查询--感谢所有开源项目---------------------</span><br><span class="line"> CPU 型号          : QEMU Virtual CPU version 2.5+</span><br><span class="line"> CPU 核心数        : 1</span><br><span class="line"> CPU 频率          : 2294.608 MHz</span><br><span class="line"> CPU 缓存          : L1: 32.00 KB / L2: 4.00 MB / L3: 16.00 MB</span><br><span class="line"> AES-NI指令集      : ✔ Enabled</span><br><span class="line"> VM-x/AMD-V支持    : ❌ Disabled</span><br><span class="line"> 内存              : 369.84 MiB / 941.46 MiB</span><br><span class="line"> Swap              : [ no swap partition or swap file detected ]</span><br><span class="line"> 硬盘空间          : 3.36 GiB / 28.44 GiB</span><br><span class="line"> 启动盘路径        : /dev/vda3</span><br><span class="line"> 系统在线时间      : 0 days, 0 hour 1 min</span><br><span class="line"> 负载              : 0.75, 0.29, 0.11</span><br><span class="line"> 系统              : Debian GNU/Linux 12 (bookworm) (x86_64)</span><br><span class="line"> 架构              : x86_64 (64 Bit)</span><br><span class="line"> 内核              : 6.1.0-30-amd64</span><br><span class="line"> TCP加速方式       : bbr</span><br><span class="line"> 虚拟化架构        : KVM</span><br><span class="line"> NAT类型           : Port Restricted Cone</span><br><span class="line"> IPV4 ASN          : AS197540 netcup GmbH</span><br><span class="line"> IPV4 位置         : Nürnberg / Bavaria / DE</span><br><span class="line"> IPV6 ASN          : AS197540 netcup</span><br><span class="line"> IPV6 位置         : Nuremberg / Bavaria / Germany</span><br><span class="line"> IPV6 子网掩码     : 64</span><br><span class="line">----------------------CPU测试--通过sysbench测试-------------------------</span><br><span class="line"> -&gt; CPU 测试中 (Fast Mode, 1-Pass @ 5sec)</span><br><span class="line"> 1 线程测试(单核)得分:          845 Scores</span><br><span class="line">---------------------内存测试--感谢lemonbench开源-----------------------</span><br><span class="line"> -&gt; 内存测试 Test (Fast Mode, 1-Pass @ 5sec)</span><br><span class="line"> 单线程读测试:          16098.42 MB/s</span><br><span class="line"> 单线程写测试:          13702.27 MB/s</span><br><span class="line">------------------磁盘dd读写测试--感谢lemonbench开源--------------------</span><br><span class="line"> -&gt; 磁盘IO测试中 (4K Block/1M Block, Direct Mode)</span><br><span class="line"> 测试操作               写速度                                  读速度</span><br><span class="line"> 100MB-4K Block         23.6 MB/s (5767 IOPS, 4.44s)            24.4 MB/s (5953 IOPS, 4.30s)</span><br><span class="line"> 1GB-1M Block           1.2 GB/s (1166 IOPS, 0.86s)             873 MB/s (832 IOPS, 1.20s)</span><br><span class="line">---------------------磁盘fio读写测试--感谢yabs开源----------------------</span><br><span class="line">Block Size | 4k            (IOPS) | 64k           (IOPS)</span><br><span class="line">  ------   | ---            ----  | ----           ---- </span><br><span class="line">Read       | 69.02 MB/s   (17.2k) | 841.70 MB/s  (13.1k)</span><br><span class="line">Write      | 69.20 MB/s   (17.3k) | 846.13 MB/s  (13.2k)</span><br><span class="line">Total      | 138.22 MB/s  (34.5k) | 1.68 GB/s    (26.3k)</span><br><span class="line">           |                      |               </span><br><span class="line">Block Size | 512k          (IOPS) | 1m            (IOPS)</span><br><span class="line">  ------   | ---            ----  | ----           ---- </span><br><span class="line">Read       | 1.01 GB/s     (1.9k) | 1.02 GB/s      (997)</span><br><span class="line">Write      | 1.06 GB/s     (2.0k) | 1.08 GB/s     (1.0k)</span><br><span class="line">Total      | 2.07 GB/s     (4.0k) | 2.11 GB/s     (2.0k)</span><br><span class="line">------------流媒体解锁--基于oneclickvirt/CommonMediaTests开源-----------</span><br><span class="line">以下测试的解锁地区是准确的，但是不是完整解锁的判断可能有误，这方面仅作参考使用</span><br><span class="line">----------------Netflix-----------------</span><br><span class="line">[IPV4]</span><br><span class="line">您的出口IP可以使用Netflix，但仅可看Netflix自制剧</span><br><span class="line">NF所识别的IP地域信息：德国</span><br><span class="line">[IPV6]</span><br><span class="line">您的出口IP可以使用Netflix，但仅可看Netflix自制剧</span><br><span class="line">NF所识别的IP地域信息：德国</span><br><span class="line">----------------Youtube-----------------</span><br><span class="line">[IPV4]</span><br><span class="line">连接方式: Youtube Video Server</span><br><span class="line">视频缓存节点地域: 德国法兰克福(FRA16S31)</span><br><span class="line">[IPV6]</span><br><span class="line">连接方式: Google Global CacheCDN (ISP Cooperation)</span><br><span class="line">ISP运营商: ANEXIAAT</span><br><span class="line">视频缓存节点地域: 奥地利维也纳(VIE1)</span><br><span class="line">---------------DisneyPlus---------------</span><br><span class="line">[IPV4]</span><br><span class="line">当前出口所在地区解锁DisneyPlus</span><br><span class="line">区域：DE 区</span><br><span class="line">[IPV6]</span><br><span class="line">当前出口所在地区解锁DisneyPlus</span><br><span class="line">区域：DE 区</span><br><span class="line">解锁Netflix，Youtube，DisneyPlus上面和下面进行比较，不同之处自行判断</span><br><span class="line">----------------流媒体解锁--感谢RegionRestrictionCheck开源--------------</span><br><span class="line"> 以下为IPV4网络测试，若无IPV4网络则无输出</span><br><span class="line">============[ Multination ]============</span><br><span class="line"> Dazn:                                  Failed (Error: )</span><br><span class="line"> Disney+:                               No (IP Banned By Disney+ 1)</span><br><span class="line"> Netflix:                               Originals Only</span><br><span class="line"> YouTube Premium:                       Yes (Region: DE)</span><br><span class="line"> Amazon Prime Video:                    Yes (Region: DE)</span><br><span class="line"> TVBAnywhere+:                          Yes</span><br><span class="line"> Spotify Registration:                  No</span><br><span class="line"> OneTrust Region:                       DE [Bavaria]</span><br><span class="line"> iQyi Oversea Region:                   DE</span><br><span class="line"> Bing Region:                           DE</span><br><span class="line"> Apple Region:                          DE</span><br><span class="line"> YouTube CDN:                           Frankfurt</span><br><span class="line"> Netflix Preferred CDN:                 [ANEXIA Internetdienstleistungs] in [Vienna]</span><br><span class="line"> ChatGPT:                               Yes</span><br><span class="line"> Google Gemini:                         No</span><br><span class="line"> Claude:                                Yes</span><br><span class="line"> Wikipedia Editability:                 Yes</span><br><span class="line"> Google Play Store:                     Germany </span><br><span class="line"> Google Search CAPTCHA Free:            Yes</span><br><span class="line"> Steam Currency:                        EUR</span><br><span class="line"> ---Forum---</span><br><span class="line"> Reddit:                                No</span><br><span class="line">=======================================</span><br><span class="line"> 以下为IPV6网络测试，若无IPV6网络则无输出</span><br><span class="line">============[ Multination ]============</span><br><span class="line"> Dazn:                                  IPv6 Is Not Currently Supported</span><br><span class="line"> Disney+:                               IPv6 Is Not Currently Supported</span><br><span class="line"> Netflix:                               Originals Only</span><br><span class="line"> YouTube Premium:                       Yes (Region: DE)</span><br><span class="line"> Amazon Prime Video:                    IPv6 Is Not Currently Supported</span><br><span class="line"> TVBAnywhere+:                          IPv6 Is Not Currently Supported</span><br><span class="line"> Spotify Registration:                  No</span><br><span class="line"> OneTrust Region:                       DE [Bavaria]</span><br><span class="line"> iQyi Oversea Region:                   IPv6 Is Not Currently Supported</span><br><span class="line"> Bing Region:                           DE</span><br><span class="line"> Apple Region:                          DE</span><br><span class="line"> YouTube CDN:                           [ANEXIAAT] in [Vienna]</span><br><span class="line"> Netflix Preferred CDN:                 [ANEXIA Internetdienstleistungs] in [Vienna]</span><br><span class="line"> ChatGPT:                               Failed (Network Connection)</span><br><span class="line"> Google Gemini:                         No</span><br><span class="line"> Claude:                                Yes</span><br><span class="line"> Wikipedia Editability:                 Yes</span><br><span class="line"> Google Play Store:                     Germany </span><br><span class="line"> Google Search CAPTCHA Free:            Yes</span><br><span class="line"> Steam Currency:                        IPv6 Is Not Currently Supported</span><br><span class="line"> ---Forum---</span><br><span class="line"> Reddit:                                IPv6 Is Not Currently Supported</span><br><span class="line">=======================================</span><br><span class="line">---------------TikTok解锁--感谢lmc999的源脚本及fscarmen PR--------------</span><br><span class="line"> Tiktok Region:         Failed</span><br><span class="line">-------------IP质量检测--基于oneclickvirt/securityCheck使用-------------</span><br><span class="line">数据仅作参考，不代表100%准确，如果和实际情况不一致请手动查询多个数据库比对</span><br><span class="line">以下为各数据库编号，输出结果后将自带数据库来源对应的编号</span><br><span class="line">ipinfo数据库  [0] | scamalytics数据库 [1] | virustotal数据库   [2] | abuseipdb数据库   [3] | ip2location数据库    [4]</span><br><span class="line">ip-api数据库  [5] | ipwhois数据库     [6] | ipregistry数据库   [7] | ipdata数据库      [8] | db-ip数据库          [9]</span><br><span class="line">ipapiis数据库 [A] | ipapicom数据库    [B] | bigdatacloud数据库 [C] | cheervision数据库 [D] | ipqualityscore数据库 [E]</span><br><span class="line">IPV4:</span><br><span class="line">安全得分:</span><br><span class="line">声誉(越高越好): 0 [2] </span><br><span class="line">信任得分(越高越好): 0 [8] </span><br><span class="line">VPN得分(越低越好): 100 [8] </span><br><span class="line">代理得分(越低越好): 100 [8] </span><br><span class="line">社区投票-无害: 0 [2] </span><br><span class="line">社区投票-恶意: 0 [2] </span><br><span class="line">威胁得分(越低越好): 100 [8] </span><br><span class="line">欺诈得分(越低越好): 44 [1] 65 [E]</span><br><span class="line">滥用得分(越低越好): 0 [3] </span><br><span class="line">ASN滥用得分(越低越好): 0.0056 (Low) [A] </span><br><span class="line">公司滥用得分(越低越好): 0.0234 (Elevated) [A] </span><br><span class="line">威胁级别: low [B] </span><br><span class="line">黑名单记录统计:(有多少黑名单网站有记录):</span><br><span class="line">无害记录数: 52 [2]  恶意记录数: 0 [2]  可疑记录数: 0 [2]  无记录数: 42 [2]  </span><br><span class="line">安全信息:</span><br><span class="line">使用类型: hosting [0 7 A] business [8] DataCenter/WebHosting/Transit [3] hosting - high probability [C]</span><br><span class="line">公司类型: hosting [0 7 A] </span><br><span class="line">是否云提供商: Yes [7 D] </span><br><span class="line">是否数据中心: Yes [0 1 5 6 A C] No [8]</span><br><span class="line">是否移动设备: No [5 A C] Yes [E]</span><br><span class="line">是否代理: Yes [E] No [0 1 4 5 6 7 8 A B C D]</span><br><span class="line">是否VPN: Yes [A E] No [0 1 6 7 C D]</span><br><span class="line">是否Tor: No [0 1 3 6 7 8 A B C D E] </span><br><span class="line">是否Tor出口: No [1 7 D] </span><br><span class="line">是否网络爬虫: No [A B E] </span><br><span class="line">是否匿名: No [1 6 7 8 D] </span><br><span class="line">是否攻击者: No [7 8 D] </span><br><span class="line">是否滥用者: No [7 8 A C D E] </span><br><span class="line">是否威胁: No [7 8 C D] </span><br><span class="line">是否中继: No [0 7 8 C D] </span><br><span class="line">是否Bogon: No [7 8 A C D] </span><br><span class="line">是否机器人: No [E] </span><br><span class="line">DNS-黑名单: 314(Total_Check) 0(Clean) 9(Blacklisted) 10(Other) </span><br><span class="line">IPV6:</span><br><span class="line">安全得分:</span><br><span class="line">欺诈得分(越低越好): 17 [1] </span><br><span class="line">滥用得分(越低越好): 0 [3]</span><br><span class="line">ASN滥用得分(越低越好): 0.0056 (Low) [A] </span><br><span class="line">公司滥用得分(越低越好): 0 (Very Low) [A] </span><br><span class="line">威胁级别: low [B] </span><br><span class="line">安全信息:</span><br><span class="line">使用类型: hosting [A] DataCenter/WebHosting/Transit [3]</span><br><span class="line">公司类型: hosting [A] </span><br><span class="line">是否数据中心: Yes [1 A] </span><br><span class="line">是否移动设备: No [A] </span><br><span class="line">是否代理: No [1 A B] </span><br><span class="line">是否VPN: No [1 A]</span><br><span class="line">是否Tor: No [1 3 A B] </span><br><span class="line">是否Tor出口: No [1] </span><br><span class="line">是否网络爬虫: No [A B] </span><br><span class="line">是否匿名: No [1] </span><br><span class="line">是否滥用者: No [A] </span><br><span class="line">是否Bogon: No [A] </span><br><span class="line">DNS-黑名单: 314(Total_Check) 0(Clean) 0(Blacklisted) 314(Other) </span><br><span class="line">Google搜索可行性：NO</span><br><span class="line">-------------邮件端口检测--基于oneclickvirt/portchecker开源-------------</span><br><span class="line">Platform  SMTP  SMTPS POP3  POP3S IMAP  IMAPS</span><br><span class="line">LocalPort ✔     ✔     ✔     ✔     ✔     ✔  </span><br><span class="line">QQ        ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">163       ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">Sohu      ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">Yandex    ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">Gmail     ✔     ✔     ✘     ✘     ✘     ✘  </span><br><span class="line">Outlook   ✔     ✘     ✔     ✘     ✔     ✘  </span><br><span class="line">Office365 ✔     ✘     ✔     ✘     ✔     ✘  </span><br><span class="line">Yahoo     ✔     ✔     ✘     ✘     ✘     ✘  </span><br><span class="line">MailCOM   ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">MailRU    ✔     ✔     ✘     ✘     ✔     ✘  </span><br><span class="line">AOL       ✔     ✔     ✘     ✘     ✘     ✘  </span><br><span class="line">GMX       ✔     ✘     ✔     ✘     ✔     ✘  </span><br><span class="line">Sina      ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">Apple     ✘     ✘     ✘     ✘     ✘     ✘  </span><br><span class="line">FastMail  ✘     ✔     ✘     ✘     ✘     ✘  </span><br><span class="line">ProtonMail✘     ✘     ✘     ✘     ✘     ✘  </span><br><span class="line">MXRoute   ✔     ✘     ✔     ✘     ✔     ✘  </span><br><span class="line">Namecrane ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">XYAMail   ✘     ✘     ✘     ✘     ✘     ✘  </span><br><span class="line">ZohoMail  ✘     ✔     ✘     ✘     ✘     ✘  </span><br><span class="line">Inbox_eu  ✔     ✔     ✔     ✘     ✘     ✘  </span><br><span class="line">Free_fr   ✘     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">----------------三网回程--基于oneclickvirt/backtrace开源----------------</span><br><span class="line">北京电信 219.141.140.10  电信163    [普通线路] </span><br><span class="line">北京联通 202.106.195.68  联通4837   [普通线路] </span><br><span class="line">北京移动 221.179.155.161 移动CMI    [普通线路] 移动CMIN2  [精品线路] </span><br><span class="line">上海电信 202.96.209.133  电信163    [普通线路] </span><br><span class="line">上海联通 210.22.97.1     联通4837   [普通线路] </span><br><span class="line">上海移动 211.136.112.200 移动CMI    [普通线路] 移动CMIN2  [精品线路] </span><br><span class="line">广州电信 58.60.188.222   检测不到回程路由节点的IP地址</span><br><span class="line">广州联通 210.21.196.6    联通4837   [普通线路] </span><br><span class="line">广州移动 120.196.165.24  移动CMI    [普通线路] </span><br><span class="line">成都电信 61.139.2.69     电信163    [普通线路] </span><br><span class="line">成都联通 119.6.6.6       联通4837   [普通线路] </span><br><span class="line">成都移动 211.137.96.205  移动CMI    [普通线路] 移动CMIN2  [精品线路] </span><br><span class="line">准确线路自行查看详细路由，本测试结果仅作参考</span><br><span class="line">同一目标地址多个线路时，可能检测已越过汇聚层，除了第一个线路外，后续信息可能无效</span><br><span class="line">---------------------回程路由--感谢fscarmen开源及PR---------------------</span><br><span class="line">依次测试电信/联通/移动经过的地区及线路，核心程序来自nexttrace，请知悉!</span><br><span class="line">广州电信 58.60.188.222</span><br><span class="line">0.64 ms         AS197540 德国 巴伐利亚州 纽伦堡 netcup.de</span><br><span class="line">0.88 ms         AS47147 德国 黑森 美茵河畔法兰克福 anexia.com</span><br><span class="line">0.69 ms         AS9002 德国 巴伐利亚 纽伦堡 retn.net</span><br><span class="line">8.80 ms         AS9002 [RETN-BACKBONE] 荷兰 北荷兰省 阿姆斯特丹 retn.net</span><br><span class="line">12.33 ms        AS4134 荷兰 北荷兰 阿姆斯特丹 www.chinatelecom.com.cn</span><br><span class="line">184.19 ms       AS4134 [CHINANET-BB] 中国 广东 广州 www.chinatelecom.com.cn 电信</span><br><span class="line">185.15 ms       AS4134 [CHINANET-BB] 中国 广东 广州 www.chinatelecom.com.cn 电信</span><br><span class="line">242.88 ms       AS134774 [CHINANET-GD] 中国 广东 深圳 chinatelecom.cn 电信</span><br><span class="line">193.97 ms       AS4134 中国 广东 深圳 福田区 www.chinatelecom.com.cn 电信</span><br><span class="line">广州联通 210.21.196.6</span><br><span class="line">0.56 ms         AS197540 德国 巴伐利亚州 纽伦堡 netcup.de</span><br><span class="line">0.67 ms         AS47147 德国 黑森 美茵河畔法兰克福 anexia.com</span><br><span class="line">0.57 ms         AS1299 [TELIANET] 德国 巴伐利亚 纽伦堡 arelion.com</span><br><span class="line">4.05 ms         AS1299 [ARELION-NET] 德国 黑森州 美因河畔法兰克福 arelion.com</span><br><span class="line">4.31 ms         AS4837 [CU169-BACKBONE] 德国 黑森 美因河畔法兰克福 chinaunicom.cn 联通</span><br><span class="line">166.98 ms       AS4837 [CU169-BACKBONE] 中国 广东 广州 chinaunicom.cn 联通</span><br><span class="line">150.99 ms       AS4837 [CU169-BACKBONE] 中国 广东 广州 chinaunicom.cn 联通</span><br><span class="line">159.02 ms       AS4837 [CU169-BACKBONE] 中国 广东 广州 I-C chinaunicom.cn 联通</span><br><span class="line">154.53 ms       AS17816 [UNICOM-GD] 中国 广东 广州 chinaunicom.cn</span><br><span class="line">167.42 ms       AS17623 [APNIC-AP] 中国 广东 深圳 chinaunicom.cn 联通</span><br><span class="line">147.14 ms       AS17623 中国 广东 深圳 宝安区 chinaunicom.cn 联通</span><br><span class="line">广州移动 120.196.165.24</span><br><span class="line">0.69 ms         AS197540 德国 巴伐利亚州 纽伦堡 netcup.de</span><br><span class="line">0.65 ms         AS47147 德国 黑森 美茵河畔法兰克福 anexia.com</span><br><span class="line">0.61 ms         AS1299 [TELIANET] 德国 巴伐利亚 纽伦堡 arelion.com</span><br><span class="line">4.01 ms         AS1299 [ARELION-NET] 德国 黑森州 美因河畔法兰克福 arelion.com</span><br><span class="line">4.24 ms         AS1299 [ARELION-NET] 德国 黑森州 美因河畔法兰克福 arelion.com</span><br><span class="line">6.59 ms         AS1299 [ARELION-NET] 德国 黑森州 美因河畔法兰克福 arelion.com</span><br><span class="line">4.64 ms         AS1299 [ARELION-NET] 德国 黑森 美因河畔法兰克福 Telia-CM-Cust arelion.com</span><br><span class="line">4.48 ms         AS58453 [CMI-INT] 德国 黑森 美茵河畔法兰克福 cmi.chinamobile.com 移动</span><br><span class="line">201.27 ms       AS58453 [CMI-INT] 德国 黑森 美因河畔法兰克福 cmi.chinamobile.com 移动</span><br><span class="line">202.70 ms       AS9808 [CMNET] 中国 广东 广州 chinamobileltd.com 移动</span><br><span class="line">203.31 ms       AS9808 [CMNET] 中国 广东 广州 I-C chinamobileltd.com 移动</span><br><span class="line">205.47 ms       AS9808 [CMNET] 中国 广东 广州 chinamobileltd.com 移动</span><br><span class="line">207.59 ms       AS56040 [APNIC-AP] 中国 广东 深圳 gd.10086.cn 移动</span><br><span class="line">--------------------自动更新测速节点列表--本脚本原创--------------------</span><br><span class="line">位置             上传速度        下载速度        延迟     丢包率</span><br><span class="line">Speedtest.net    887.16 Mbps     896.56 Mbps     0.29     0.0%</span><br><span class="line">法兰克福         903.77 Mbps     937.80 Mbps     3.74     NULL</span><br><span class="line">洛杉矶           1123.32 Mbps    828.31 Mbps     159.19   0.0%</span><br><span class="line">联通上海5G       777.76 Mbps     569.55 Mbps     183.47   NULL</span><br><span class="line">电信Zhenjiang5G  456.40 Mbps     764.76 Mbps     173.16   NULL</span><br><span class="line">电信Suzhou5G     1033.25 Mbps    811.99 Mbps     208.20   NULL</span><br><span class="line">移动Beijing      1056.66 Mbps    477.00 Mbps     130.61   0.0%</span><br><span class="line">------------------------------------------------------------------------</span><br><span class="line"> 总共花费      : 6 分 48 秒</span><br><span class="line"> 时间          : Fri Feb  7 17:50:35 CET 2025</span><br><span class="line">------------------------------------------------------------------------</span><br><span class="line">  短链:</span><br><span class="line">    https://paste.spiritlhl.net/#/show/ck9Xa.txt</span><br><span class="line">    http://hpaste.spiritlhl.net/#/show/ck9Xa.txt</span><br></pre></td></tr></table></figure>

<h2 id="IPQuality："><a href="#IPQuality：" class="headerlink" title="IPQuality："></a>IPQuality：</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">########################################################################</span><br><span class="line">                       IP质量体检报告：91.132.*.*</span><br><span class="line">                    bash &lt;(curl -sL IP.Check.Place)</span><br><span class="line">                   https://github.com/xykt/IPQuality</span><br><span class="line">        报告时间：2025-02-08 00:53:24 CST  脚本版本：v2025-01-24</span><br><span class="line">########################################################################</span><br><span class="line">一、基础信息（Maxmind 数据库）</span><br><span class="line">自治系统号：            AS197540</span><br><span class="line">组织：                  netcup GmbH</span><br><span class="line">坐标：                  11°1′9″E, 49°26′32″N</span><br><span class="line">地图：                  https://check.place/49.4423,11.0191,15,cn</span><br><span class="line">城市：                  巴伐利亚州, 纽伦堡, 90431</span><br><span class="line">使用地：                [DE]德国, [EU]欧洲</span><br><span class="line">注册地：                [DE]德国</span><br><span class="line">时区：                  Europe/Berlin</span><br><span class="line">IP类型：                 原生IP </span><br><span class="line">二、IP类型属性</span><br><span class="line">数据库：      IPinfo    ipregistry    ipapi     AbuseIPDB  IP2LOCATION </span><br><span class="line">使用类型：     机房        机房        机房        机房        机房  </span><br><span class="line">公司类型：     机房        机房        机房  </span><br><span class="line">三、风险评分</span><br><span class="line">风险等级：      极低         低       中等       高         极高</span><br><span class="line">SCAMALYTICS：                             44|中风险</span><br><span class="line">ipapi：                               2.34%|较高风险</span><br><span class="line">AbuseIPDB：    0|低风险</span><br><span class="line">IPQS：                        75|可疑IP</span><br><span class="line">Cloudflare：   0|低风险</span><br><span class="line">四、风险因子</span><br><span class="line">库： IP2LOCATION ipapi ipregistry IPQS SCAMALYTICS ipdata IPinfo IPWHOIS</span><br><span class="line">地区：    [DE]    [DE]    [DE]    [DE]    [DE]    [DE]    [DE]    [DE]</span><br><span class="line">代理：     否      否      否      是      否      否      否      否 </span><br><span class="line">Tor：      否      否      否      否      否      否      否      否 </span><br><span class="line">VPN：      否      是      否      是      否      无      否      否 </span><br><span class="line">服务器：   是      是      是      无      否      否      是      是 </span><br><span class="line">滥用：     否      否      否      否      无      否      无      无 </span><br><span class="line">机器人：   否      否      无      否      否      无      无      无 </span><br><span class="line">五、流媒体及AI服务解锁检测</span><br><span class="line">服务商：  TikTok   Disney+  Netflix Youtube  AmazonPV  Spotify  ChatGPT </span><br><span class="line">状态：     解锁     屏蔽    仅自制    解锁     解锁     屏蔽     解锁   </span><br><span class="line">地区：     [DE]              [DE]     [DE]     [DE]              [DE]   </span><br><span class="line">方式：     原生              原生     原生     原生              原生   </span><br><span class="line">六、邮局连通性及黑名单检测</span><br><span class="line">本地25端口：阻断</span><br><span class="line">IP地址黑名单数据库：  有效 439   正常 421   已标记 15   黑名单 3</span><br><span class="line">========================================================================</span><br><span class="line">今日IP检测量：1992；总检测量：383260。感谢使用xy系列脚本！ </span><br><span class="line">报告链接：https://Report.Check.Place/IP/XHM5ERHT6.svg</span><br><span class="line"></span><br><span class="line">########################################################################</span><br><span class="line">                 IP质量体检报告：2a03:4000:37:*:*:*:*:*</span><br><span class="line">                    bash &lt;(curl -sL IP.Check.Place)</span><br><span class="line">                   https://github.com/xykt/IPQuality</span><br><span class="line">        报告时间：2025-02-08 00:53:24 CST  脚本版本：v2025-01-24</span><br><span class="line">########################################################################</span><br><span class="line">一、基础信息（Maxmind 数据库）</span><br><span class="line">自治系统号：            AS197540</span><br><span class="line">组织：                  netcup GmbH</span><br><span class="line">坐标：                  11°1′9″E, 49°26′32″N</span><br><span class="line">地图：                  https://check.place/49.4423,11.0191,15,cn</span><br><span class="line">城市：                  巴伐利亚州, 纽伦堡, 90431</span><br><span class="line">使用地：                [DE]德国, [EU]欧洲</span><br><span class="line">注册地：                [DE]德国</span><br><span class="line">时区：                  Europe/Berlin</span><br><span class="line">IP类型：                 原生IP </span><br><span class="line">二、IP类型属性</span><br><span class="line">数据库：      IPinfo    ipregistry    ipapi     AbuseIPDB  IP2LOCATION </span><br><span class="line">使用类型：     机房        机房        机房        机房        机房  </span><br><span class="line">公司类型：     机房        机房        机房  </span><br><span class="line">三、风险评分</span><br><span class="line">风险等级：      极低         低       中等       高         极高</span><br><span class="line">SCAMALYTICS：           17|低风险</span><br><span class="line">ipapi：    0.00%|极低风险</span><br><span class="line">AbuseIPDB：    0|低风险</span><br><span class="line">IPQS：                        75|可疑IP</span><br><span class="line">Cloudflare：   0|低风险</span><br><span class="line">四、风险因子</span><br><span class="line">库： IP2LOCATION ipapi ipregistry IPQS SCAMALYTICS ipdata IPinfo IPWHOIS</span><br><span class="line">地区：    [DE]    [DE]    [DE]    [DE]    [DE]    [DE]    [DE]    [DE]</span><br><span class="line">代理：     否      否      否      是      否      否      否      否 </span><br><span class="line">Tor：      否      否      否      否      否      否      否      否 </span><br><span class="line">VPN：      否      否      否      是      否      无      否      否 </span><br><span class="line">服务器：   是      是      是      无      否      否      是      否 </span><br><span class="line">滥用：     否      否      否      否      无      否      无      无 </span><br><span class="line">机器人：   否      否      无      否      否      无      无      无 </span><br><span class="line">五、流媒体及AI服务解锁检测</span><br><span class="line">服务商：  TikTok   Disney+  Netflix Youtube  AmazonPV  Spotify  ChatGPT </span><br><span class="line">状态：     失败     屏蔽    仅自制    解锁     屏蔽     屏蔽     失败   </span><br><span class="line">地区：                       [DE]     [DE]                        </span><br><span class="line">方式：                       原生     原生                        </span><br><span class="line">六、邮局连通性及黑名单检测</span><br><span class="line">本地25端口：阻断</span><br><span class="line">========================================================================</span><br><span class="line">今日IP检测量：1994；总检测量：383262。感谢使用xy系列脚本！ </span><br><span class="line">报告链接：https://Report.Check.Place/IP/LPQA6CI1O.svg</span><br></pre></td></tr></table></figure>

<h2 id="去程路由（广东电信家宽→vps）"><a href="#去程路由（广东电信家宽→vps）" class="headerlink" title="去程路由（广东电信家宽→vps）"></a>去程路由（广东电信家宽→vps）</h2><p><a href="https://assets.nxtrace.org/tracemap/c8449bb4-ab1e-5e2c-b3f0-9bbca0a17cf7.html">https://assets.nxtrace.org/tracemap/c8449bb4-ab1e-5e2c-b3f0-9bbca0a17cf7.html</a></p>
<h2 id="回程路由（vps→广东电信家宽）"><a href="#回程路由（vps→广东电信家宽）" class="headerlink" title="回程路由（vps→广东电信家宽）"></a>回程路由（vps→广东电信家宽）</h2><p><a href="https://assets.nxtrace.org/tracemap/23394e0f-a308-5dd2-8c2f-54c54975dae6.html">https://assets.nxtrace.org/tracemap/23394e0f-a308-5dd2-8c2f-54c54975dae6.html</a></p>
<h2 id="iperf3"><a href="#iperf3" class="headerlink" title="iperf3"></a>iperf3</h2><p>tcp直连下载</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[ ID] Interval           Transfer     Bitrate</span><br><span class="line">[  5]   0.00-1.00   sec  64.3 KBytes   526 Kbits/sec            </span><br><span class="line">[  5]   1.00-2.00   sec   563 KBytes  4.62 Mbits/sec            </span><br><span class="line">[  5]   2.00-3.00   sec  4.45 MBytes  37.4 Mbits/sec            </span><br><span class="line">[  5]   3.00-4.00   sec  7.28 MBytes  61.1 Mbits/sec            </span><br><span class="line">[  5]   4.00-5.00   sec  5.47 MBytes  45.9 Mbits/sec            </span><br><span class="line">[  5]   5.00-6.00   sec  10.5 MBytes  87.8 Mbits/sec            </span><br><span class="line">[  5]   6.00-7.00   sec  5.67 MBytes  47.6 Mbits/sec            </span><br><span class="line">[  5]   7.00-8.00   sec  5.40 MBytes  45.3 Mbits/sec            </span><br><span class="line">[  5]   8.00-9.00   sec  5.19 MBytes  43.4 Mbits/sec            </span><br><span class="line">[  5]   9.00-10.00  sec  9.40 MBytes  79.2 Mbits/sec            </span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">[ ID] Interval           Transfer     Bitrate         Retr</span><br><span class="line">[  5]   0.00-10.19  sec  75.2 MBytes  61.9 Mbits/sec  2957             sender</span><br><span class="line">[  5]   0.00-10.00  sec  53.9 MBytes  45.2 Mbits/sec                  receiver</span><br></pre></td></tr></table></figure>

<p>tcp直连上传</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[ ID] Interval           Transfer     Bitrate         Retr  Cwnd</span><br><span class="line">[  5]   0.00-1.00   sec  1.31 MBytes  11.0 Mbits/sec    0    174 KBytes   </span><br><span class="line">[  5]   1.00-2.00   sec  2.79 MBytes  23.4 Mbits/sec    0    745 KBytes   </span><br><span class="line">[  5]   2.00-3.00   sec  1.25 MBytes  10.5 Mbits/sec    0    544 KBytes   </span><br><span class="line">[  5]   3.00-4.00   sec  1.25 MBytes  10.5 Mbits/sec    0    541 KBytes   </span><br><span class="line">[  5]   4.00-5.00   sec  1.25 MBytes  10.5 Mbits/sec    0    459 KBytes   </span><br><span class="line">[  5]   5.00-6.00   sec  0.00 Bytes  0.00 bits/sec    0    457 KBytes   </span><br><span class="line">[  5]   6.00-7.00   sec  1.25 MBytes  10.5 Mbits/sec    0    429 KBytes   </span><br><span class="line">[  5]   7.00-8.00   sec  1.25 MBytes  10.5 Mbits/sec    0    429 KBytes   </span><br><span class="line">[  5]   8.00-9.00   sec  0.00 Bytes  0.00 bits/sec    0    429 KBytes   </span><br><span class="line">[  5]   9.00-10.00  sec  1.25 MBytes  10.5 Mbits/sec    0    416 KBytes   </span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">[ ID] Interval           Transfer     Bitrate         Retr</span><br><span class="line">[  5]   0.00-10.00  sec  11.6 MBytes  9.72 Mbits/sec    0             sender</span><br><span class="line">[  5]   0.00-10.22  sec  8.86 MBytes  7.28 Mbits/sec                  receiver</span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>大流量反代鸡，配合cdn食用更佳</p>
]]></content>
  </entry>
  <entry>
    <title>windows 下连接ssh提示Bad permissions的解决方法</title>
    <url>/posts/65485/</url>
    <content><![CDATA[<p>前阵子因为某些原因需要新建个用户，今天连接ssh提示：</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">C:\<span class="title">Users</span>\<span class="title">butla</span>&gt;<span class="title">ssh</span> <span class="title">alice</span></span></span><br><span class="line"><span class="function"><span class="title">Bad</span> <span class="title">permissions</span>. <span class="title">Try</span> <span class="title">removing</span> <span class="title">permissions</span> <span class="title">for</span> <span class="title">user</span>: <span class="title">redmiG</span>\\<span class="title">butlanys1</span> (<span class="title">S</span>-1-5-21-) <span class="title">on</span> <span class="title">file</span> <span class="title">C</span>:/<span class="title">Users</span>/<span class="title">butla</span>/.<span class="title">ssh</span>/<span class="title">config</span>.</span></span><br><span class="line"><span class="function"><span class="title">Bad</span> <span class="title">owner</span> <span class="title">or</span> <span class="title">permissions</span> <span class="title">on</span> <span class="title">C</span>:\\<span class="title">Users</span>\\<span class="title">butla</span>/.<span class="title">ssh</span>/<span class="title">config</span></span></span><br></pre></td></tr></table></figure>

<p>解决方法：</p>
<p>打开.ssh目录我这里是C:&#x2F;Users&#x2F;butla&#x2F;</p>
<p>右击.ssh文件夹——属性——安全——下方的高级——点击下方取消继承——选择第一项</p>
<p>取消掉所有用户权限后，为当前用户单独赋权</p>
<p>还是右击.ssh文件夹——属性——安全——下方的高级——添加——选择主体——高级——立刻查找——找到当前用户——添加——一路确定</p>
<p>然后在终端重新输入ssh连接命令</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">C:\<span class="title">Users</span>\<span class="title">butla</span>&gt;<span class="title">ssh</span> <span class="title">alice</span></span></span><br><span class="line"><span class="function"><span class="title">Welcome</span> <span class="title">to</span> <span class="title">Ubuntu</span> 22.04.5 <span class="title">LTS</span> (<span class="title">GNU</span>/<span class="title">Linux</span> 6.5.0-41-<span class="title">generic</span> <span class="title">x86_64</span>)</span></span><br></pre></td></tr></table></figure>

<p>完！</p>
]]></content>
      <categories>
        <category>ssh</category>
      </categories>
      <tags>
        <tag>ssh</tag>
      </tags>
  </entry>
  <entry>
    <title>云崽bot恢复包 --Termux</title>
    <url>/posts/a1bc7431/</url>
    <content><![CDATA[<ul>
<li>自带一键部署脚本</li>
<li>自带签名服务器(qsign-1.1.7)<br>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;使用教程&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>下载云盘内的ZeroTermux和恢复包</li>
<li>先安装ZeroTermux</li>
<li>把恢复包直接解压在内部存储（防止你们不会放）</li>
</ul>
<p>打开ZeroTermux，在左侧边栏中找到备份&#x2F;恢复，然后选择恢复数据包<br><img src="https://alist.hqycloud.top/d/onedrive-oss/img/yunzaibot-0/0.jpg"></p>
<ul>
<li>选择以后会弹出恢复的系统名字，填一个你喜欢的就行。</li>
<li>恢复完成后在左侧边栏找到容器切换，切换到你刚才恢复的容器<br>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;bot使用教程&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>使用方法：</li>
<li>终端运行</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bash 云崽bot容器启动脚本.sh</span><br></pre></td></tr></table></figure>

<p><img src="https://alist.hqycloud.top/d/onedrive-oss/img/yunzaibot-0/1.jpg"></p>
<ul>
<li>选择 debian-bullseye_arm64 _1–proot<br><img src="https://alist.hqycloud.top/d/onedrive-oss/img/yunzaibot-0/2.jpg"></li>
<li>选择 启动proot debian-bullseye_arm64<br><img src="https://alist.hqycloud.top/d/onedrive-oss/img/yunzaibot-0/3.jpg"></li>
<li>终端运行</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./start.sh</span><br></pre></td></tr></table></figure>

<p>启动签名服务、redis和查看使用说明<br><img src="https://alist.hqycloud.top/d/onedrive-oss/img/yunzaibot-0/4.jpg"><br>最后再输入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd Miao-Yunzai</span><br></pre></td></tr></table></figure>

<p>切换到云崽目录<br>然后运行pnpm app登陆Bot<br><img src="https://alist.hqycloud.top/d/onedrive-oss/img/yunzaibot-0/5.jpg"></p>
<p>运行后你将会看到跟上面一样的内容</p>
<p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>第一次运行可能会出现连接不上签名服务器，请用Ctrl+c结束掉bot进程，然后用ps -le查看正在运行的服务，如果正常，你将看到以下内容<br><img src="https://alist.hqycloud.top/d/onedrive-oss/img/yunzaibot-0/6.jpg"></p>
<ul>
<li>里面包含一个java程序和redis数据库服务<br>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;pnpm常用命令&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pnpm app #带log启动</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pnpm run log #查看启动日志</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pnpm start #不带log启动</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pnpm stop #停止bot</span><br></pre></td></tr></table></figure>

<p>以上命令请在云崽bot主目录下运行<br>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;如果有解决不了的报错请反馈&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<ul>
<li>制作不易，请勿倒卖&#x2F;商用</li>
<li>链接已放在评论区</li>
</ul>
]]></content>
      <categories>
        <category>Termux</category>
      </categories>
  </entry>
  <entry>
    <title>云湖群管理bot(指令版)</title>
    <url>/posts/51901/</url>
    <content><![CDATA[<p><em>这是什么？这是<a href="https://www.yhchat.com/">云湖社交App</a>群管理指令操作的bot，相比较于官方提供的方式（撤回、禁言等操作麻烦至极，此bot一条命令即可解决</em></p>
<p>命令示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#### 命令帮助</span><br><span class="line">* !ban | 禁言</span><br><span class="line">&gt; !ban @用户 时间（禁言时长只能是 10、1h、6h、12h</span><br><span class="line">* !unban | 取消禁言</span><br><span class="line">&gt; !unban @用户（对用户取消禁言</span><br><span class="line">* !kick | 将用户移出群聊</span><br><span class="line">&gt; !kick @用户</span><br><span class="line">* !delmsg | 删除用户消息</span><br><span class="line">&gt; !delmsg (并引用需要撤回的消息</span><br><span class="line">&gt; !delmsg @用户 需要撤回的条数(最大400条</span><br><span class="line">* !addadmin | 添加临时管理员</span><br><span class="line">&gt; !addadmin @用户</span><br><span class="line">* !deladmin | 删除临时管理员</span><br><span class="line">&gt; !deladmin @用户</span><br><span class="line">* !adminlist | 查看临时管理员列表</span><br></pre></td></tr></table></figure>

<p>下载链接：<a href="https://github.com/butlanys/YunhuManagebots/">https://github.com/butlanys/YunhuManagebots/</a></p>
<p><del>源代码已加密，虽然是加密的，但保证是安全的，数据只会存储到你自己的MySQL服务器，并不会上传到第三方，也不会危害宿主机安全（如果仍不放心，欢迎使用docker部署使用）</del></p>
<p>源码已上传，git clone即可食用</p>
<p><strong>下载后解压得到</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">├── app.py</span><br><span class="line">└── pyarmor_runtime_000000</span><br><span class="line">    ├── __init__.py</span><br><span class="line">    └── pyarmor_runtime.so</span><br></pre></td></tr></table></figure>

<p>首先运行 <code>pip install -r requirements.txt</code></p>
<p>安装好依赖后，编辑 <code>.env</code>文件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TOKEN=</span><br><span class="line">ADMIN_TOKEN=</span><br><span class="line">MYSQL_HOST=</span><br><span class="line">MYSQL_DATABASE=</span><br><span class="line">MYSQL_USER=</span><br><span class="line">MYSQL_PASSWORD=</span><br></pre></td></tr></table></figure>

<p>token可在<a href="https://www.yhchat.com/control">控制台</a>创建bot后得到</p>
<p>admin_token可运行下面命令得到，bash和cmd二选一</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl <span class="string">&#x27;https://chat-go.jwzhd.com/v1/user/email-login&#x27;</span> \</span><br><span class="line">  -H <span class="string">&#x27;Accept: */*&#x27;</span> \</span><br><span class="line">  -H <span class="string">&#x27;Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6&#x27;</span> \</span><br><span class="line">  -H <span class="string">&#x27;Connection: keep-alive&#x27;</span> \</span><br><span class="line">  -H <span class="string">&#x27;Origin: https://chat.yhchat.com&#x27;</span> \</span><br><span class="line">  -H <span class="string">&#x27;Referer: https://chat.yhchat.com/&#x27;</span> \</span><br><span class="line">  -H <span class="string">&#x27;Sec-Fetch-Dest: empty&#x27;</span> \</span><br><span class="line">  -H <span class="string">&#x27;Sec-Fetch-Mode: cors&#x27;</span> \</span><br><span class="line">  -H <span class="string">&#x27;Sec-Fetch-Site: cross-site&#x27;</span> \</span><br><span class="line">  -H <span class="string">&#x27;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0&#x27;</span> \</span><br><span class="line">  -H <span class="string">&#x27;content-type: application/json&#x27;</span> \</span><br><span class="line">  -H <span class="string">&#x27;sec-ch-ua: &quot;Not/A)Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;126&quot;, &quot;Microsoft Edge&quot;;v=&quot;126&quot;&#x27;</span> \</span><br><span class="line">  -H <span class="string">&#x27;sec-ch-ua-mobile: ?0&#x27;</span> \</span><br><span class="line">  -H <span class="string">&#x27;sec-ch-ua-platform: &quot;Windows&quot;&#x27;</span> \</span><br><span class="line">  -H <span class="string">&#x27;token;&#x27;</span> \</span><br><span class="line">  --data-raw <span class="string">&#x27;&#123;&quot;email&quot;:&quot;邮箱&quot;,&quot;password&quot;:&quot;密码&quot;,&quot;deviceId&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36 Edg/126.0.0.0&quot;,&quot;platform&quot;:&quot;Web&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">curl &quot;https://chat-go.jwzhd.com/v1/user/email-login&quot; ^</span><br><span class="line">-H &quot;Accept: */*&quot; ^</span><br><span class="line">-H &quot;Accept-Language: zh-CN,zh;q=<span class="number">0</span>.<span class="number">9</span>,en;q=<span class="number">0</span>.<span class="number">8</span>,en-GB;q=<span class="number">0</span>.<span class="number">7</span>,en-US;q=<span class="number">0</span>.<span class="number">6</span>&quot; ^</span><br><span class="line">-H &quot;Connection: keep-alive&quot; ^</span><br><span class="line">-H &quot;Origin: https://chat.yhchat.com&quot; ^</span><br><span class="line">-H &quot;Referer: https://chat.yhchat.com/&quot; ^</span><br><span class="line">-H &quot;Sec-Fetch-Dest: empty&quot; ^</span><br><span class="line">-H &quot;Sec-Fetch-<span class="built_in">Mode</span>: cors&quot; ^</span><br><span class="line">-H &quot;Sec-Fetch-Site: cross-site&quot; ^</span><br><span class="line">-H &quot;User-Agent: Mozilla/<span class="number">5</span>.<span class="number">0</span> (Windows NT <span class="number">10</span>.<span class="number">0</span>; Win64; x64) AppleWebKit/<span class="number">537</span>.<span class="number">36</span> (KHTML, like Gecko) Chrome/<span class="number">126</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">0</span> Safari/<span class="number">537</span>.<span class="number">36</span> Edg/<span class="number">126</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">0</span>&quot; ^</span><br><span class="line">-H &quot;content-<span class="built_in">type</span>: application/json&quot; ^</span><br><span class="line">-H ^&quot;sec-ch-ua: ^\^&quot;<span class="keyword">Not</span>/A)Brand^\^&quot;;v=^\^&quot;<span class="number">8</span>^\^&quot;, ^\^&quot;Chromium^\^&quot;;v=^\^&quot;<span class="number">126</span>^\^&quot;, ^\^&quot;Microsoft Edge^\^&quot;;v=^\^&quot;<span class="number">126</span>^\^&quot;^&quot; ^</span><br><span class="line">-H &quot;sec-ch-ua-mobile: ?<span class="number">0</span>&quot; ^</span><br><span class="line">-H ^&quot;sec-ch-ua-platform: ^\^&quot;Windows^\^&quot;^&quot; ^</span><br><span class="line">-H &quot;token;&quot; ^</span><br><span class="line">--data-raw ^&quot;^&#123;^\^&quot;email^\^&quot;:^\^&quot;邮箱^\^&quot;,^\^&quot;password^\^&quot;:^\^&quot;密码^\^&quot;,^\^&quot;deviceId^\^&quot;:^\^&quot;Mozilla/<span class="number">5</span>.<span class="number">0</span> (Windows NT <span class="number">10</span>.<span class="number">0</span>; Win64; x64) AppleWebKit/<span class="number">537</span>.<span class="number">36</span> (KHTML, like Gecko) Chrome/<span class="number">126</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">0</span> Safari/<span class="number">537</span>.<span class="number">36</span> Edg/<span class="number">126</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">0</span>^\^&quot;,^\^&quot;platform^\^&quot;:^\^&quot;Web^\^&quot;^&#125;^&quot;</span><br></pre></td></tr></table></figure>

<p>剩下的可在创建数据库时得到</p>
<p>然后，运行app.py文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python app.py &lt;host&gt;:&lt;port&gt;</span><br></pre></td></tr></table></figure>

<p>回到云湖控制台里填写这台机子的IP+刚才设置的端口+<code>yhchat</code>路径</p>
<p>例如 <code>https://you_server.com:8080/yhchat</code></p>
<p>接着在群聊中发送!help命令，如果bot有回应则大功告成，你可以愉快的使用此bot了</p>
]]></content>
  </entry>
  <entry>
    <title>使用bing搜索引擎的用户记得兑换积分</title>
    <url>/posts/22724/</url>
    <content><![CDATA[<p>地址：<a href="https://rewards.bing.com/redeem/?form=ML2UXN">Microsoft Rewards 兑换目录</a></p>
<p>目前中国大陆地区可兑换的礼品：</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/11/image_de5fa5cf6e11c29867d41f8f16ec8e83.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;11&#x2F;image_de5fa5cf6e11c29867d41f8f16ec8e83.png"></p>
]]></content>
      <categories>
        <category>bing</category>
      </categories>
      <tags>
        <tag>bing</tag>
      </tags>
  </entry>
  <entry>
    <title>免费使用chatGPT</title>
    <url>/posts/a1df2910/</url>
    <content><![CDATA[<p><strong>ChatGPT是一个基于大型语言模型的聊天机器人，由OpenAI开发并于2022年11月30日发布1。ChatGPT可以与用户进行对话，根据用户的指示提供详细的回答，或者生成有创意的内容，例如诗歌、故事、代码、歌曲等2。ChatGPT还可以看、听和说，可以处理图像、音频和视频的输入和输出1。ChatGPT是一个免费的服务，用户可以在网页上试用1，或者下载桌面应用程序3。ChatGPT是一个强大而有趣的工具，可以帮助用户获取即时的答案，找到创造性的灵感，或者学习新的知识。</strong></p>
<h3 id="首先，申请一个免费的key"><a href="#首先，申请一个免费的key" class="headerlink" title="首先，申请一个免费的key"></a>首先，申请一个免费的key</h3><h4 id="打开GitHub-com，注册一个GitHub账号（准备一个邮箱、稳定的网络环境）"><a href="#打开GitHub-com，注册一个GitHub账号（准备一个邮箱、稳定的网络环境）" class="headerlink" title="打开GitHub.com，注册一个GitHub账号（准备一个邮箱、稳定的网络环境）"></a>打开<a href="https://github.com/">GitHub.com</a>，注册一个GitHub账号（准备一个邮箱、稳定的网络环境）</h4><h5 id="注册好后，打开https-github-com-chatanywhere-GPT-API-free-在下面找到"><a href="#注册好后，打开https-github-com-chatanywhere-GPT-API-free-在下面找到" class="headerlink" title="注册好后，打开https://github.com/chatanywhere/GPT_API_free 在下面找到"></a>注册好后，打开<a href="https://github.com/chatanywhere/GPT_API_free">https://github.com/chatanywhere/GPT_API_free</a> 在下面找到</h5><p><img src="https://alist.hqycloud.top/d/onedrive-oss/img/chatgpt-0/0.png" alt="1-img"></p>
<h5 id="点进去后会显示以下页面，红线标注的就是你的key"><a href="#点进去后会显示以下页面，红线标注的就是你的key" class="headerlink" title="点进去后会显示以下页面，红线标注的就是你的key"></a>点进去后会显示以下页面，红线标注的就是你的key</h5><p><img src="https://alist.hqycloud.top/d/onedrive-oss/img/chatgpt-0/1.png" alt="2-img"></p>
<ul>
<li>以上key已打码</li>
</ul>
<h5 id="复制sk-xxxxxxxxx"><a href="#复制sk-xxxxxxxxx" class="headerlink" title="复制sk-xxxxxxxxx"></a>复制sk-xxxxxxxxx</h5><h4 id="打开镜像站"><a href="#打开镜像站" class="headerlink" title="打开镜像站"></a>打开镜像站</h4><h5 id="作者已搭建好可以直接使用（支持官方、各种中转key）"><a href="#作者已搭建好可以直接使用（支持官方、各种中转key）" class="headerlink" title="作者已搭建好可以直接使用（支持官方、各种中转key）"></a>作者已搭建好可以直接使用（支持官方、各种中转key）</h5><p>地址：<a href="https://chat.hqycloud.top/">chat.hqycloud.top</a><br>进入镜像站后打开设置，如下图<br><img src="https://alist.hqycloud.top/d/onedrive-oss/img/chatgpt-0/2.png" alt="img-3"></p>
<h4 id="打开设置后，填入服务器地址和你的key"><a href="#打开设置后，填入服务器地址和你的key" class="headerlink" title="打开设置后，填入服务器地址和你的key"></a>打开设置后，填入服务器地址和你的key</h4><p><img src="https://alist.hqycloud.top/d/onedrive-oss/img/chatgpt-0/3.png" alt="img-4"></p>
<h4 id="接口地址填："><a href="#接口地址填：" class="headerlink" title="接口地址填："></a>接口地址填：</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://api.chatanywhere.com.cn</span><br></pre></td></tr></table></figure>

<h4 id="API-Key填刚才获取到的key，例如"><a href="#API-Key填刚才获取到的key，例如" class="headerlink" title="API Key填刚才获取到的key，例如"></a>API Key填刚才获取到的key，例如</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sk-xxxxxxxxxxxx （示例key，请勿使用）</span><br></pre></td></tr></table></figure>

<h4 id="填好以后如下图"><a href="#填好以后如下图" class="headerlink" title="填好以后如下图"></a>填好以后如下图</h4><p><img src="https://alist.hqycloud.top/d/onedrive-oss/img/chatgpt-0/4.png" alt="img-5"></p>
<h2 id="完成以上步骤后，恭喜你，你可以使用免费的chatGPT了"><a href="#完成以上步骤后，恭喜你，你可以使用免费的chatGPT了" class="headerlink" title="完成以上步骤后，恭喜你，你可以使用免费的chatGPT了"></a>完成以上步骤后，恭喜你，你可以使用免费的chatGPT了</h2><h3 id="最后附上手机版chatGPT"><a href="#最后附上手机版chatGPT" class="headerlink" title="最后附上手机版chatGPT"></a>最后附上手机版chatGPT</h3><ul>
<li><a href="https://ddns.hqycloud.top:8000/s/6ZFQ">Android客户端</a></li>
</ul>
<h3 id="使用事项"><a href="#使用事项" class="headerlink" title="使用事项"></a>使用事项</h3><ul>
<li>免费key每小时60次调用</li>
<li>请勿分享自己的key</li>
</ul>
]]></content>
      <categories>
        <category>chatgpt</category>
      </categories>
  </entry>
  <entry>
    <title>关于viqoo工具箱</title>
    <url>/posts/527a18f8/</url>
    <content><![CDATA[<h3 id="本文将解决群友的“十万个为什么”"><a href="#本文将解决群友的“十万个为什么”" class="headerlink" title="本文将解决群友的“十万个为什么”"></a>本文将解决群友的“十万个为什么”</h3><h4 id="Q：找不到bin"><a href="#Q：找不到bin" class="headerlink" title="Q：找不到bin"></a>Q：找不到bin</h4><p>A：检查是否完全解压或者有没有放在有中文或特殊字符的路径</p>
<h4 id="Q：3-0找不到gsp-exe"><a href="#Q：3-0找不到gsp-exe" class="headerlink" title="Q：3.0找不到gsp.exe"></a>Q：3.0找不到gsp.exe</h4><p>A：右键管理员运行</p>
<h4 id="Q：获取不到机型"><a href="#Q：获取不到机型" class="headerlink" title="Q：获取不到机型"></a>Q：获取不到机型</h4><p>A：换个可靠的网络、文件夹里的换源脚本、挂全局代理（或者是源端挂了，找我反馈吧）</p>
<h4 id="Q：没有此版本"><a href="#Q：没有此版本" class="headerlink" title="Q：没有此版本"></a>Q：没有此版本</h4><p>A：云端库没有你这个版本的boot，自己上酷安或问群友</p>
<h4 id="Q：缺少……DLL"><a href="#Q：缺少……DLL" class="headerlink" title="Q：缺少……DLL"></a>Q：缺少……DLL</h4><p>A：2.1.3及以上版本最低Windows10</p>
<h4 id="Q：3-0解锁时一直卡着"><a href="#Q：3-0解锁时一直卡着" class="headerlink" title="Q：3.0解锁时一直卡着"></a>Q：3.0解锁时一直卡着</h4><p>A：换2.1.3看log</p>
<h4 id="Q：解锁失败"><a href="#Q：解锁失败" class="headerlink" title="Q：解锁失败"></a>Q：解锁失败</h4><p>A：官方工具&#x2F;售后降级</p>
<h4 id="Q：工具箱支持什么机型？"><a href="#Q：工具箱支持什么机型？" class="headerlink" title="Q：工具箱支持什么机型？"></a>Q：工具箱支持什么机型？</h4><p>A：下载下来看看不就知道了？😅</p>
<h4 id="Q：有人二次修改、加密的该怎么办？"><a href="#Q：有人二次修改、加密的该怎么办？" class="headerlink" title="Q：有人二次修改、加密的该怎么办？"></a>Q：有人二次修改、加密的该怎么办？</h4><p>A：没啥办法，随手点个举报就行（不是不想禁止，脸皮厚的我也管不了）</p>
<h3 id="使用注意事项"><a href="#使用注意事项" class="headerlink" title="使用注意事项"></a>使用注意事项</h3><p>1、关杀毒！！！<br>2、刷机有风险，担不起不建议刷</p>
<h3 id="下载链接"><a href="#下载链接" class="headerlink" title="下载链接"></a>下载链接</h3><p><a href="https://alist.butlanys.de/viqootools">https://alist.butlanys.de/viqootools</a></p>
<ul>
<li>打不开？检查你的DNS是否正常</li>
</ul>
<h3 id="viqoo群"><a href="#viqoo群" class="headerlink" title="viqoo群"></a>viqoo群</h3><ul>
<li>QQ：614196143</li>
<li>云湖：753573255</li>
</ul>
<h3 id="完"><a href="#完" class="headerlink" title="完"></a>完</h3>]]></content>
      <categories>
        <category>viqoo</category>
      </categories>
  </entry>
  <entry>
    <title>关于我离开云湖的声明</title>
    <url>/posts/37249/</url>
    <content><![CDATA[<ul>
<li><strong>在2025&#x2F;1&#x2F;30日晚我已停用所有机器人并注销所有有关云湖的账号</strong></li>
</ul>
<blockquote>
<p><strong>此次离开，已经做好不再回去的打算，我在云湖所写的bot，源码我等一会贴到评论区，有兴趣的话可以自己部署，并且这些项目我将加上MIT协议，你可以自由的修改、分发。但我会将这些存储库设为只读状态，意不再接受任何新需求、bug等反馈。</strong></p>
</blockquote>
<h2 id="致云湖开发者"><a href="#致云湖开发者" class="headerlink" title="致云湖开发者"></a>致云湖开发者</h2><p><strong>我使用这款软件快3年，连续在线天数几百天，这段时间，我见证了这款软件的成长，也感到了许多不足（动画僵硬、ui也不算好看，bot api也不怎么完善）但好在遇到问题可以和开发者面对面交流，问题很快就能得到解决</strong></p>
<p><strong>但，不管怎么说，这充其量就是个半成品，跟其他软件相比，缺点太多了。也许你会说，这是个刚起步的产品啊，还有很大的改进空间。对，但等到这款产品完全成熟时，需要太多时间，我已经等不起了，许多操作甚至需要用户权限。而且，对垃圾、18+的广告还要开发者人工处理，前阵子黑产渗透到云湖时，居然要花上一堆时间来人工处理？</strong></p>
<p><strong>总之，就目前来说，可替代云湖的产品有太多太多</strong></p>
<p><strong>江湖很大，有缘再见~</strong></p>
]]></content>
  </entry>
  <entry>
    <title>利用dispatch突破网络限速（Linux）</title>
    <url>/posts/6159/</url>
    <content><![CDATA[<p><strong><a href="https://github.com/alexkirsz/dispatch">dispatch</a>是一种Rust语言的客户端负载均衡器，可实现带宽叠加、带宽聚合</strong></p>
<h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>通过纯软件实现多网卡带宽叠加和负载均衡</p>
<ul>
<li>通过绑定多个本地IP接口，起一个本地S5 Proxy，通过该入口实现加权负载均衡控制流量</li>
<li>实现下行带宽多网卡（网络适配器）聚合带宽叠加</li>
<li>实现上行带宽多网卡（网络适配器）聚合带宽叠加</li>
<li>无须不稳定的跃点和其他的VPN&#x2F;代理软件就可以自行实现聚合</li>
<li>提供标准的S5代理，不提供HTTP代理，本身不具有加密、混淆等功能</li>
<li>可以套娃其他代理软件 当然，原则上，单线程自然是无效的，同时无法预测流量，简单来说可把Haproxy当作服务端负载均衡，而Diepatch-Proxy是一种客户端负载均衡。</li>
</ul>
<h3 id="如何套娃"><a href="#如何套娃" class="headerlink" title="如何套娃"></a>如何套娃</h3><ul>
<li>V2rayN作为出口，需要做好DNS等设置，如果有异常需要重启服务</li>
<li>Netch作为进程代理控制程序，配置并使用Dispatch提供的S5代理，对V2rayN的二进制程序启用（包括内核，比如xray.exe、sing-box.exe）</li>
<li>Dispatch自行选择端口和可用的本地IP，作为上联源，以及配置权重，默认是均等连接，然后默认端口是1080，不可冲突端口</li>
</ul>
<h3 id="预测可用场景"><a href="#预测可用场景" class="headerlink" title="预测可用场景"></a>预测可用场景</h3><ul>
<li>实现高速内网：叠加WiFi+LAN等组合方案达到更大的理论速度，不影响互联网出口IP。</li>
<li>叠加光猫LAN口：常见的光猫通常为1Gbps LAN接口，可通过叠加多个G口或者光猫自带WiFi实现更大带宽接入，获取被G口限制的冗余带宽，不影响互联网出口IP。</li>
<li>多宽带&#x2F;外网并联：叠加蜂窝流量卡（蜂窝网络类，包括MIFI&#x2F;手机热点）实现更大带宽的外网上下行水平，但是这会导致出口IP不一致的问题，可能有负面影响。</li>
</ul>
<p>本文以debian为例</p>
<h2 id="安装dispatch"><a href="#安装dispatch" class="headerlink" title="安装dispatch"></a>安装dispatch</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt  install cargo &amp;&amp; cargo install dispatch-proxy &amp;&amp; <span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$PATH</span>:/root/.cargo/bin&quot;</span> &amp;&amp; <span class="built_in">source</span> /etc/profile &amp;&amp; dispatch --version</span><br></pre></td></tr></table></figure>

<p>显示版本则代表安装成功</p>
<h2 id="获取多个IP"><a href="#获取多个IP" class="headerlink" title="获取多个IP"></a>获取多个IP</h2><p>建议在占用该ip时，先ping一下看看有没有人用😭</p>
<p>根据自己的网络环境选择IP</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ifconfig eth0:1 &lt;想使用的IP&gt; netmask 255.255.255.0 up</span><br></pre></td></tr></table></figure>

<p>然后输入 <code>ifconfig</code>查看是否有此IP</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_4472f670cfec7856fd60afdc92d301b6.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_4472f670cfec7856fd60afdc92d301b6.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_4472f670cfec7856fd60afdc92d301b6.png"></a></p>
<h2 id="启动dispatch"><a href="#启动dispatch" class="headerlink" title="启动dispatch"></a>启动dispatch</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dispatch start  --ip 127.0.0.1 --port 1080 &lt;上面获取的IP&gt;</span><br></pre></td></tr></table></figure>

<p><strong>多个IP用空格隔开</strong></p>
<h2 id="连接代理"><a href="#连接代理" class="headerlink" title="连接代理"></a>连接代理</h2><p>这里以<a href="https://github.com/MatsuriDayo/nekoray/">nekoray</a>为例</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_e1a2337d7343c2d48bb0e56213749838.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_e1a2337d7343c2d48bb0e56213749838.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_e1a2337d7343c2d48bb0e56213749838.png"></a></p>
<p>添加代理后右键这个代理点击启动即可连上</p>
<h2 id="取消占用IP"><a href="#取消占用IP" class="headerlink" title="取消占用IP"></a>取消占用IP</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ifconfig eth0:1 down</span><br></pre></td></tr></table></figure>

<h2 id="资源地址"><a href="#资源地址" class="headerlink" title="资源地址"></a>资源地址</h2><p><strong>原仓库：<a href="https://github.com/alexkirsz/dispatch">https://github.com/alexkirsz/dispatch</a></strong></p>
<p><strong>本文转载的翻译仓库：<a href="https://github.com/BlueSkyXN/Dispatch-Proxy">https://github.com/BlueSkyXN/Dispatch-Proxy</a></strong></p>
]]></content>
      <categories>
        <category>Internet</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>Internet</tag>
        <tag>限速</tag>
        <tag>校园网</tag>
        <tag>网络</tag>
      </tags>
  </entry>
  <entry>
    <title>利用dispatch突破网络限速（Windows）</title>
    <url>/posts/7480/</url>
    <content><![CDATA[<p><strong><a href="https://github.com/alexkirsz/dispatch">dispatch</a>是一种Rust语言的客户端负载均衡器，可实现带宽叠加、带宽聚合</strong></p>
<h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>通过纯软件实现多网卡带宽叠加和负载均衡</p>
<ul>
<li>通过绑定多个本地IP接口，起一个本地S5 Proxy，通过该入口实现加权负载均衡控制流量</li>
<li>实现下行带宽多网卡（网络适配器）聚合带宽叠加</li>
<li>实现上行带宽多网卡（网络适配器）聚合带宽叠加</li>
<li>无须不稳定的跃点和其他的VPN&#x2F;代理软件就可以自行实现聚合</li>
<li>提供标准的S5代理，不提供HTTP代理，本身不具有加密、混淆等功能</li>
<li>可以套娃其他代理软件 当然，原则上，单线程自然是无效的，同时无法预测流量，简单来说可把Haproxy当作服务端负载均衡，而Diepatch-Proxy是一种客户端负载均衡。</li>
</ul>
<h3 id="如何套娃"><a href="#如何套娃" class="headerlink" title="如何套娃"></a>如何套娃</h3><ul>
<li>V2rayN作为出口，需要做好DNS等设置，如果有异常需要重启服务</li>
<li>Netch作为进程代理控制程序，配置并使用Dispatch提供的S5代理，对V2rayN的二进制程序启用（包括内核，比如xray.exe、sing-box.exe）</li>
<li>Dispatch自行选择端口和可用的本地IP，作为上联源，以及配置权重，默认是均等连接，然后默认端口是1080，不可冲突端口</li>
</ul>
<h3 id="预测可用场景"><a href="#预测可用场景" class="headerlink" title="预测可用场景"></a>预测可用场景</h3><ul>
<li>实现高速内网：叠加WiFi+LAN等组合方案达到更大的理论速度，不影响互联网出口IP。</li>
<li>叠加光猫LAN口：常见的光猫通常为1Gbps LAN接口，可通过叠加多个G口或者光猫自带WiFi实现更大带宽接入，获取被G口限制的冗余带宽，不影响互联网出口IP。</li>
<li>多宽带&#x2F;外网并联：叠加蜂窝流量卡（蜂窝网络类，包括MIFI&#x2F;手机热点）实现更大带宽的外网上下行水平，但是这会导致出口IP不一致的问题，可能有负面影响。</li>
</ul>
<p>本文以Windows11为例</p>
<h2 id="安装dispatch"><a href="#安装dispatch" class="headerlink" title="安装dispatch"></a>安装dispatch</h2><p>下载<a href="https://github.com/alexkirsz/dispatch/releases/download/v0.1.3/dispatch-proxy-x86_64-pc-windows-msvc.tar.gz">https://github.com/alexkirsz/dispatch/releases/download/v0.1.3/dispatch-proxy-x86_64-pc-windows-msvc.tar.gz</a></p>
<p>解压后得到</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_b49e88f4ac9847bb1ebf75d0ab62e491.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_b49e88f4ac9847bb1ebf75d0ab62e491.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_b49e88f4ac9847bb1ebf75d0ab62e491.png"></a></p>
<h2 id="获取多个IP"><a href="#获取多个IP" class="headerlink" title="获取多个IP"></a>获取多个IP</h2><p><strong>建议在占用该ip时，先ping一下看看有没有人用😭</strong></p>
<p><strong>打开Windows控制面板—网络和 Internet—网络和共享中心—左侧的更改适配器设置—找到并双击正在使用网络的网卡—属性—Internet 协议版本 4(TCP&#x2F;IPv4)—高级</strong></p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_771cd07fe287c2d1a2a788cbd72a29e6.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_771cd07fe287c2d1a2a788cbd72a29e6.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_771cd07fe287c2d1a2a788cbd72a29e6.png"></a><br>添加IP地址</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_fc40cc5ceb4d9d8e55aa13809ee65d4d.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_fc40cc5ceb4d9d8e55aa13809ee65d4d.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_fc40cc5ceb4d9d8e55aa13809ee65d4d.png"></a></p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_555d4501a87af758f1e1798c75941453.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_555d4501a87af758f1e1798c75941453.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_555d4501a87af758f1e1798c75941453.png"></a></p>
<h2 id="启动dispatch"><a href="#启动dispatch" class="headerlink" title="启动dispatch"></a>启动dispatch</h2><p>打开dispatch所在的文件位置<br>空白处右键</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_48d7e9e2a639cda715996bdc25b2ec70.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_48d7e9e2a639cda715996bdc25b2ec70.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_48d7e9e2a639cda715996bdc25b2ec70.png"></a><br>选择在终端中打开</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">.\dispatch <span class="built_in">start</span>  --ip <span class="number">127</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">1</span> --port <span class="number">1080</span> &lt;上面获取 的IP&gt;</span><br></pre></td></tr></table></figure>

<p><strong>多个IP用空格隔开</strong></p>
<h2 id="连接代理"><a href="#连接代理" class="headerlink" title="连接代理"></a>连接代理</h2><p>这里以<a href="https://github.com/MatsuriDayo/nekoray/">nekoray</a>为例</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_e1a2337d7343c2d48bb0e56213749838.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_e1a2337d7343c2d48bb0e56213749838.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_e1a2337d7343c2d48bb0e56213749838.png"></a></p>
<p>添加代理后右键这个代理点击启动即可连上</p>
<h2 id="取消占用IP"><a href="#取消占用IP" class="headerlink" title="取消占用IP"></a>取消占用IP</h2><p>打开添加ip的页面选中删除即可</p>
<h2 id="资源地址"><a href="#资源地址" class="headerlink" title="资源地址"></a>资源地址</h2><p><strong>原仓库：<a href="https://github.com/alexkirsz/dispatch">https://github.com/alexkirsz/dispatch</a></strong></p>
<p><strong>本文转载的翻译仓库：<a href="https://github.com/BlueSkyXN/Dispatch-Proxy">https://github.com/BlueSkyXN/Dispatch-Proxy</a></strong></p>
]]></content>
      <categories>
        <category>Internet</category>
      </categories>
      <tags>
        <tag>Internet</tag>
        <tag>限速</tag>
        <tag>校园网</tag>
        <tag>网络</tag>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>利用wireguard给多台服务器组网</title>
    <url>/posts/11111/</url>
    <content><![CDATA[<p>前言：上个月在alice白嫖了一台4c8g的vps，性能虽好，但中国大陆方向优化几乎没有，广东电信ping不低于300ms，而手上又有一台阿里云香港轻量，所以就拿来给alice的vps作跳板机。本来部署项目一切顺利，但是到反代时1panel罢工，反代http正常，https报错。所以为了不让流量裸奔，所以就给他俩组了个网😓</p>
<h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ul>
<li>俩台可安装wireguard的vps</li>
</ul>
<h2 id="安装wireguard"><a href="#安装wireguard" class="headerlink" title="安装wireguard"></a>安装wireguard</h2><p><strong>Debian&#x2F;Ubuntu&#x2F;Linux Mint:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install wireguard</span><br></pre></td></tr></table></figure>

<p><strong>Fedora&#x2F;CentOS&#x2F;RHEL:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install wireguard-tools</span><br></pre></td></tr></table></figure>

<p><strong>Arch Linux&#x2F;Manjaro:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S wire</span><br></pre></td></tr></table></figure>

<h2 id="生成密钥"><a href="#生成密钥" class="headerlink" title="生成密钥"></a>生成密钥</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wg genkey | <span class="built_in">tee</span> privatekey | wg pubkey &gt; publickey</span><br></pre></td></tr></table></figure>

<p>私钥：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> privatekey</span><br></pre></td></tr></table></figure>

<p>公钥：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> publickey</span><br></pre></td></tr></table></figure>

<h2 id="填入配置文件"><a href="#填入配置文件" class="headerlink" title="填入配置文件"></a>填入配置文件</h2><p>照着模板填写</p>
<p>第一台vps</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Interface]</span><br><span class="line">PrivateKey = &lt;替换为VPS1的私钥&gt;</span><br><span class="line">Address = 10.0.0.1/32</span><br><span class="line">ListenPort = 51820 </span><br><span class="line"></span><br><span class="line">[Peer]</span><br><span class="line">PublicKey = &lt;替换为VPS 2的公钥&gt;</span><br><span class="line">AllowedIPs = 10.0.0.2/32</span><br><span class="line">Endpoint = &lt;替换为VPS2的IP&gt;:51820</span><br><span class="line">PersistentKeepalive = 25</span><br></pre></td></tr></table></figure>

<p>第二台vps</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Interface]</span><br><span class="line">PrivateKey = &lt;替换为VPS 2的私钥&gt;</span><br><span class="line">Address = 10.0.0.2/32</span><br><span class="line">ListenPort = 51820 </span><br><span class="line"></span><br><span class="line">[Peer]</span><br><span class="line">PublicKey = &lt;替换为VPS 1的公钥&gt;</span><br><span class="line">AllowedIPs = 10.0.0.1/32</span><br><span class="line">Endpoint = &lt;替换为VPS1的IP&gt;:51820</span><br></pre></td></tr></table></figure>

<h2 id="防火墙放行端口"><a href="#防火墙放行端口" class="headerlink" title="防火墙放行端口"></a>防火墙放行端口</h2><p>ufw：</p>
<p><code>ufw allow 51820</code></p>
<h2 id="启动隧道"><a href="#启动隧道" class="headerlink" title="启动隧道"></a>启动隧道</h2><p>·<code>wg-quick up wg0</code>·</p>
<h2 id="配置开机自启"><a href="#配置开机自启" class="headerlink" title="配置开机自启"></a>配置开机自启</h2><p><code>systemctl enable wg-quick@wg0.service</code></p>
<p><strong>警告</strong></p>
<p>此协议无任何伪装，GFW可精准探测，不要拿此协议过GFW</p>
]]></content>
      <categories>
        <category>linux</category>
        <category>wireguard</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>wireguard</tag>
      </tags>
  </entry>
  <entry>
    <title>华为云新加坡测试</title>
    <url>/posts/4804/</url>
    <content><![CDATA[<p>机子是华为云新加坡Flexus L，2c1g，30mbps，每月1T流量</p>
<p>用500券开了500多天</p>
<h1 id="融合怪"><a href="#融合怪" class="headerlink" title="融合怪"></a>融合怪</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">VPS融合怪版本：2024.09.30</span><br><span class="line">Shell项目地址：https://github.com/spiritLHLS/ecs</span><br><span class="line">Go项目地址：https://github.com/oneclickvirt/ecs</span><br><span class="line">---------------------基础信息查询--感谢所有开源项目---------------------</span><br><span class="line"> CPU 型号          : Intel(R) Xeon(R) Gold 6278C CPU @ 2.60GHz</span><br><span class="line"> CPU 核心数        : 2</span><br><span class="line"> CPU 频率          : 2600.000 MHz</span><br><span class="line"> CPU 缓存          : L1: 32.00 KB / L2: 1.00 MB / L3: 35.75 MB</span><br><span class="line"> AES-NI指令集      : ✔ Enabled</span><br><span class="line"> VM-x/AMD-V支持    : ❌ Disabled</span><br><span class="line"> 内存              : 111.88 MiB / 972.68 MiB</span><br><span class="line"> Swap              : [ no swap partition or swap file detected ]</span><br><span class="line"> 硬盘空间          : 837.30 MiB / 40011.22 MiB</span><br><span class="line"> 启动盘路径        : /dev/vda1</span><br><span class="line"> 系统在线时间      : 0 days, 0 hour 2 min</span><br><span class="line"> 负载              : 0.31, 0.13, 0.05</span><br><span class="line"> 系统              : Debian GNU/Linux 12 (bookworm) (x86_64)</span><br><span class="line"> 架构              : x86_64 (64 Bit)</span><br><span class="line"> 内核              : 6.1.0-25-cloud-amd64</span><br><span class="line"> TCP加速方式       : cubic</span><br><span class="line"> 虚拟化架构        : KVM</span><br><span class="line"> NAT类型           : Full Cone</span><br><span class="line"> IPV4 ASN          : AS136907 HUAWEI CLOUDS</span><br><span class="line"> IPV4 位置         : Singapore / Singapore / SG</span><br><span class="line">----------------------CPU测试--通过sysbench测试-------------------------</span><br><span class="line"> -&gt; CPU 测试中 (Fast Mode, 1-Pass @ 5sec)</span><br><span class="line"> 1 线程测试(单核)得分:          1074 Scores</span><br><span class="line"> 2 线程测试(多核)得分:          2149 Scores</span><br><span class="line">---------------------内存测试--感谢lemonbench开源-----------------------</span><br><span class="line"> -&gt; 内存测试 Test (Fast Mode, 1-Pass @ 5sec)</span><br><span class="line"> 单线程读测试:          21438.88 MB/s</span><br><span class="line"> 单线程写测试:          18039.93 MB/s</span><br><span class="line">------------------磁盘<span class="built_in">dd</span>读写测试--感谢lemonbench开源--------------------</span><br><span class="line"> -&gt; 磁盘IO测试中 (4K Block/1M Block, Direct Mode)</span><br><span class="line"> 测试操作               写速度                                  读速度</span><br><span class="line"> 100MB-4K Block         8.2 MB/s (2012 IOPS, 12.73s)            13.3 MB/s (3250 IOPS, 7.87s)</span><br><span class="line"> 1GB-1M Block           138 MB/s (131 IOPS, 7.61s)              129 MB/s (122 IOPS, 8.15s)</span><br><span class="line">---------------------磁盘fio读写测试--感谢yabs开源----------------------</span><br><span class="line">Block Size | 4k            (IOPS) | 64k           (IOPS)</span><br><span class="line">  ------   | ---            ----  | ----           ---- </span><br><span class="line">Read       | 16.19 MB/s    (4.0k) | 62.52 MB/s     (977)</span><br><span class="line">Write      | 16.20 MB/s    (4.0k) | 62.93 MB/s     (983)</span><br><span class="line">Total      | 32.40 MB/s    (8.0k) | 125.46 MB/s   (1.9k)</span><br><span class="line">           |                      |                   </span><br><span class="line">Block Size | 512k          (IOPS) | 1m            (IOPS)</span><br><span class="line">  ------   | ---            ----  | ----           ---- </span><br><span class="line">Read       | 61.93 MB/s     (120) | 60.05 MB/s      (58)</span><br><span class="line">Write      | 65.06 MB/s     (127) | 64.28 MB/s      (62)</span><br><span class="line">Total      | 127.00 MB/s    (247) | 124.33 MB/s    (120)</span><br><span class="line">------------流媒体解锁--基于oneclickvirt/CommonMediaTests开源-----------</span><br><span class="line">以下测试的解锁地区是准确的，但是不是完整解锁的判断可能有误，这方面仅作参考使用</span><br><span class="line">----------------Netflix-----------------</span><br><span class="line">[IPV4]</span><br><span class="line">您的出口IP可以使用Netflix，但仅可看Netflix自制剧</span><br><span class="line">NF所识别的IP地域信息：新加坡</span><br><span class="line">[IPV6]</span><br><span class="line">您的网络可能没有正常配置IPv6，或者没有IPv6网络接入</span><br><span class="line">----------------Youtube-----------------</span><br><span class="line">[IPV4]</span><br><span class="line">连接方式: Youtube Video Server</span><br><span class="line">视频缓存节点地域: 新加坡 新加坡/樟宜  (SIN10S14)</span><br><span class="line">Youtube识别地域: 新加坡(SG)</span><br><span class="line">[IPV6]</span><br><span class="line">Youtube在您的出口IP所在的国家不提供服务</span><br><span class="line">---------------DisneyPlus---------------</span><br><span class="line">[IPV4]</span><br><span class="line">当前出口所在地区解锁DisneyPlus</span><br><span class="line">区域：SG 区</span><br><span class="line">[IPV6]</span><br><span class="line">DisneyPlus在您的出口IP所在的国家不提供服务</span><br><span class="line">解锁Netflix，Youtube，DisneyPlus上面和下面进行比较，不同之处自行判断</span><br><span class="line">----------------流媒体解锁--感谢RegionRestrictionCheck开源--------------</span><br><span class="line"> 以下为IPV4网络测试，若无IPV4网络则无输出</span><br><span class="line">============[ Multination ]============</span><br><span class="line"> Dazn:                                  Yes (Region: SG)</span><br><span class="line"> Disney+:                               No (IP Banned By Disney+)</span><br><span class="line"> Netflix:                               Originals Only</span><br><span class="line"> YouTube Premium:                       Yes (Region: SG)</span><br><span class="line"> Amazon Prime Video:                    Yes (Region: SG)</span><br><span class="line"> TVBAnywhere+:                          Yes</span><br><span class="line"> Spotify Registration:                  No</span><br><span class="line"> Instagram Licensed Audio:              Failed (Network Connection)</span><br><span class="line"> OneTrust Region:                       SG [Unknown]</span><br><span class="line"> iQyi Oversea Region:                   SG</span><br><span class="line"> Bing Region:                           SG</span><br><span class="line"> YouTube CDN:                           Singapore</span><br><span class="line"> Netflix Preferred CDN:                 Singapore</span><br><span class="line"> ChatGPT:                               No (Only Available with Web Browser)</span><br><span class="line"> Google Gemini:                         Yes (Region: SGP)</span><br><span class="line"> Wikipedia Editability:                 No</span><br><span class="line"> Google Search CAPTCHA Free:            Yes</span><br><span class="line"> Steam Currency:                        SGD</span><br><span class="line"> ---Forum---</span><br><span class="line"> Reddit:                                No</span><br><span class="line">=======================================</span><br><span class="line"> 以下为IPV6网络测试，若无IPV6网络则无输出</span><br><span class="line">---------------TikTok解锁--感谢lmc999的源脚本及fscarmen PR--------------</span><br><span class="line"> Tiktok Region:         Failed</span><br><span class="line">-------------IP质量检测--基于oneclickvirt/securityCheck使用-------------</span><br><span class="line">数据仅作参考，不代表100%准确，如果和实际情况不一致请手动查询多个数据库比对</span><br><span class="line">以下为各数据库编号，输出结果后将自带数据库来源对应的编号</span><br><span class="line">ipinfo数据库  [0] | scamalytics数据库 [1] | virustotal数据库   [2] | abuseipdb数据库   [3] | ip2location数据库    [4]</span><br><span class="line">ip-api数据库  [5] | ipwhois数据库     [6] | ipregistry数据库   [7] | ipdata数据库      [8] | db-ip数据库          [9]</span><br><span class="line">ipapiis数据库 [A] | ipapicom数据库    [B] | bigdatacloud数据库 [C] | cheervision数据库 [D] | ipqualityscore数据库 [E]</span><br><span class="line">IPV4:</span><br><span class="line">安全得分:</span><br><span class="line">声誉(越高越好): 0 [2] </span><br><span class="line">信任得分(越高越好): 0 [8] </span><br><span class="line">VPN得分(越低越好): 100 [8] </span><br><span class="line">代理得分(越低越好): 100 [8] </span><br><span class="line">社区投票-无害: 0 [2] </span><br><span class="line">社区投票-恶意: 0 [2] </span><br><span class="line">威胁得分(越低越好): 100 [8] </span><br><span class="line">欺诈得分(越低越好): 3 [1] 65 [E]</span><br><span class="line">滥用得分(越低越好): 0 [3] </span><br><span class="line">ASN滥用得分(越低越好): 0.0036 (Low) [A]</span><br><span class="line">公司滥用得分(越低越好): 0.0123 (Elevated) [A] </span><br><span class="line">威胁级别: low [9 B] </span><br><span class="line">黑名单记录统计:(有多少黑名单网站有记录):</span><br><span class="line">无害记录数: 0 [2] 恶意记录数: 0 [2]  可疑记录数: 0 [2]  无记录数: 94 [2]  </span><br><span class="line">安全信息:</span><br><span class="line">使用类型: hosting - high probability [C] DataCenter/WebHosting/Transit [3] business [8] hosting [0 7 9 A]</span><br><span class="line">公司类型: business [A] hosting [0 7]</span><br><span class="line">是否云提供商: Yes [7 D] </span><br><span class="line">是否数据中心: Yes [0 1 5 6 A] No [8 C]</span><br><span class="line">是否移动设备: No [5 A C] Yes [E]</span><br><span class="line">是否代理: No [0 1 4 5 6 7 8 9 A B C D] Yes [E]</span><br><span class="line">是否VPN: Yes [E] No [0 1 6 7 A C D]</span><br><span class="line">是否Tor: No [0 1 3 6 7 8 A B C D E] </span><br><span class="line">是否Tor出口: No [1 7 D] </span><br><span class="line">是否网络爬虫: No [9 A B E] </span><br><span class="line">是否匿名: No [1 6 7 8 D] </span><br><span class="line">是否攻击者: No [7 8 D] </span><br><span class="line">是否滥用者: No [7 8 A C D E] </span><br><span class="line">是否威胁: No [7 8 C D] </span><br><span class="line">是否中继: No [0 7 8 C D] </span><br><span class="line">是否Bogon: No [7 8 A C D] </span><br><span class="line">是否机器人: No [E] </span><br><span class="line">DNS-黑名单: 313(Total_Check) 0(Clean) 5(Blacklisted) 9(Other) </span><br><span class="line">Google搜索可行性：YES</span><br><span class="line">-------------邮件端口检测--基于oneclickvirt/portchecker开源-------------</span><br><span class="line">Platform  SMTP  SMTPS POP3  POP3S IMAP  IMAPS</span><br><span class="line">LocalPort ✔     ✔     ✔     ✔     ✔     ✔  </span><br><span class="line">QQ        ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">163       ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">Sohu      ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">Yandex    ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">Gmail     ✔     ✔     ✘     ✘     ✘     ✘  </span><br><span class="line">Outlook   ✔     ✘     ✔     ✘     ✔     ✘  </span><br><span class="line">Office365 ✔     ✘     ✔     ✘     ✔     ✘  </span><br><span class="line">Yahoo     ✔     ✔     ✘     ✘     ✘     ✘  </span><br><span class="line">MailCOM   ✔     ✔     ✔     ✘     ✔     ✘  </span><br><span class="line">MailRU    ✔     ✔     ✘     ✘     ✔     ✘  </span><br><span class="line">AOL       ✔     ✔     ✘     ✘     ✘     ✘  </span><br><span class="line">GMX       ✔     ✘     ✔     ✘     ✔     ✘  </span><br><span class="line">Sina      ✔     ✘     ✔     ✘     ✔     ✘  </span><br><span class="line">----------------三网回程--基于oneclickvirt/backtrace开源----------------</span><br><span class="line">北京电信 219.141.140.10  电信CN2GIA [精品线路] </span><br><span class="line">北京联通 202.106.195.68  检测不到回程路由节点的IP地址</span><br><span class="line">北京移动 221.179.155.161 移动CMI    [普通线路] </span><br><span class="line">上海电信 202.96.209.133  电信CN2GIA [精品线路] </span><br><span class="line">上海联通 210.22.97.1     检测不到回程路由节点的IP地址</span><br><span class="line">上海移动 211.136.112.200 移动CMI    [普通线路] </span><br><span class="line">广州电信 58.60.188.222   检测不到回程路由节点的IP地址</span><br><span class="line">广州联通 210.21.196.6    检测不到回程路由节点的IP地址</span><br><span class="line">广州移动 120.196.165.24  移动CMI    [普通线路] </span><br><span class="line">成都电信 61.139.2.69     检测不到回程路由节点的IP地址</span><br><span class="line">成都联通 119.6.6.6       检测不到回程路由节点的IP地址</span><br><span class="line">成都移动 211.137.96.205  移动CMI    [普通线路] </span><br><span class="line">准确线路自行查看详细路由，本测试结果仅作参考</span><br><span class="line">同一目标地址多个线路时，可能检测已越过汇聚层，除了第一个线路外，后续信息可能无效</span><br><span class="line">---------------------回程路由--感谢fscarmen开源及PR---------------------</span><br><span class="line">依次测试电信/联通/移动经过的地区及线路，核心程序来自ipip.net或nexttrace，请知悉!</span><br><span class="line">广州电信 58.60.188.222</span><br><span class="line">60.60 ms        * RFC6598</span><br><span class="line">4.95 ms         * DOD</span><br><span class="line">6.29 ms         * DOD</span><br><span class="line">45.05 ms        * RFC1918</span><br><span class="line">46.51 ms        AS23764 [CN2-BB] 中国 香港 chinatelecomglobal.com 电信</span><br><span class="line">39.49 ms        * 中国 香港 电信/CTGNet</span><br><span class="line">96.87 ms        * [CN2-BackBone] 中国 广东 广州 chinatelecom.cn 电信</span><br><span class="line">43.12 ms        * [CN2-BackBone] 中国 广东 广州 chinatelecom.cn 电信</span><br><span class="line">53.23 ms        * [CN2-BackBone] 中国 广东 广州 chinatelecom.cn 电信</span><br><span class="line">49.17 ms        AS4134 中国 广东 佛山市 www.chinatelecom.com.cn 电信</span><br><span class="line">49.63 ms        AS4134 中国 广东 深圳 福田区 www.chinatelecom.com.cn 电信</span><br><span class="line">广州联通 210.21.196.6</span><br><span class="line">49.23 ms        * RFC6598</span><br><span class="line">2.51 ms         * DOD</span><br><span class="line">6.41 ms         * DOD</span><br><span class="line">40.74 ms        * [CUG-ASIA] 中国 香港</span><br><span class="line">43.95 ms        AS10099 中国 香港 chinaunicomglobal.com</span><br><span class="line">37.20 ms        AS10099 [CUG-BACKBONE] 中国 香港 chinaunicomglobal.com 联通</span><br><span class="line">47.76 ms        AS4837 [CU169-BACKBONE] 中国 广东 广州 chinaunicom.cn 联通</span><br><span class="line">52.52 ms        AS4837 [CU169-BACKBONE] 中国 广东 广州 chinaunicom.cn 联通</span><br><span class="line">57.09 ms        AS17816 [APNIC-AP] 中国 广东 深圳 chinaunicom.cn 联通</span><br><span class="line">48.58 ms        AS17623 [APNIC-AP] 中国 广东 深圳 chinaunicom.cn 联通</span><br><span class="line">59.57 ms        AS17623 [APNIC-AP] 中国 广东 深圳 宝安区 chinaunicom.cn 联通</span><br><span class="line">广州移动 120.196.165.24</span><br><span class="line">40.39 ms        * RFC6598</span><br><span class="line">7.26 ms         * DOD</span><br><span class="line">12.68 ms        * DOD</span><br><span class="line">102.40 ms       * DOD</span><br><span class="line">40.02 ms        * RFC1918</span><br><span class="line">46.66 ms        AS58453 [CMI-INT] 中国 香港 cmi.chinamobile.com 移动</span><br><span class="line">40.09 ms        AS58453 [CMI-INT] 中国 香港 cmi.chinamobile.com 移动</span><br><span class="line">57.14 ms        AS58453 [CMI-INT] 中国 广东 广州 cmi.chinamobile.com 移动</span><br><span class="line">56.80 ms        AS9808 [CMNET] 中国 广东 广州 chinamobileltd.com 移动</span><br><span class="line">79.83 ms        AS9808 [CMNET] 中国 广东 广州 chinamobileltd.com 移动</span><br><span class="line">83.60 ms        AS9808 [CMNET] 中国 广东 广州 chinamobileltd.com 移动</span><br><span class="line">79.35 ms        AS9808 [CMNET] 中国 广东 广州 chinamobileltd.com 移动</span><br><span class="line">76.60 ms        AS56040 [APNIC-AP] 中国 广东 深圳 gd.10086.cn 移动</span><br><span class="line">--------------------自动更新测速节点列表--本脚本原创--------------------</span><br><span class="line">位置             上传速度        下载速度        延迟     丢包率</span><br><span class="line">Speedtest.net    46.20 Mbps      44.01 Mbps      1.14     0.0%</span><br><span class="line">新加坡           39.62 Mbps      39.24 Mbps      16.13    0.0%</span><br><span class="line">中国香港         35.60 Mbps      22.75 Mbps      36.93    0.0%</span><br><span class="line">联通WuXi         32.90 Mbps      15.57 Mbps      66.55    0.0%</span><br><span class="line">电信浙江         38.87 Mbps      33.28 Mbps      76.16    NULL</span><br><span class="line">电信浙江         4.32 Mbps       32.34 Mbps      77.43    NULL</span><br><span class="line">移动杭州5G       38.97 Mbps      57.64 Mbps      69.17    0.0%</span><br><span class="line">移动Beijing      43.22 Mbps      52.82 Mbps      156.15   NULL</span><br><span class="line">------------------------------------------------------------------------</span><br><span class="line"> 总共花费      : 10 分 44 秒</span><br><span class="line"> 时间          : Fri Oct 11 20:58:51 CST 2024</span><br><span class="line">------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<h1 id="IP质量"><a href="#IP质量" class="headerlink" title="IP质量"></a>IP质量</h1><pre><code class="language-bash">
########################################################################
IP质量体检报告：159.138.*.*
bash &lt;(curl -sL IP.Check.Place)
https://github.com/xykt/IPQuality
报告时间：2024-10-11 21:16:06 CST  脚本版本：v2024-07-29
########################################################################
一、基础信息（Maxmind 数据库）
自治系统号：            AS136907
组织：                  HUAWEI CLOUDS
坐标：                  103°48′5″E, 1°22′2″N
地图：                  https://check.place/1.3673,103.8014,13,cn
城市：                  N/A
使用地：                [SG]新加坡, [AS]亚洲
注册地：                [SG]新加坡
时区：                  Asia/Singapore
IP类型：                 原生IP
二、IP类型属性
数据库：      IPinfo    ipregistry    ipapi     AbuseIPDB  IP2LOCATION
使用类型：     机房        机房        机房        机房        机房
公司类型：     机房        机房        机房
三、风险评分
风险等级：      极低         低       中等       高         极高
SCAMALYTICS：   3|低风险
ipapi：                      1.23%|较高风险
AbuseIPDB：    0|低风险
IPQS：                        75|可疑IP
DB-IP：         |低风险
四、风险因子
库： IP2LOCATION ipapi ipregistry IPQS SCAMALYTICS ipdata IPinfo IPWHOIS
地区：    [SG]    [SG]    [SG]    [SG]    [SG]    [SG]    [SG]    [SG]
代理：     否      否      否      是      否      否      否      否
Tor：      否      否      否      否      否      否      否      否
VPN：      否      否      否      是      否      无      否      否
服务器：   是      是      是      无      否      否      是      是
滥用：     否      否      否      否      无      否      无      无
机器人：   否      否      无      否      否      无      无      无
五、流媒体及AI服务解锁检测
服务商：  TikTok   Disney+  Netflix Youtube  AmazonPV  Spotify  ChatGPT
状态：     失败     失败    仅自制    解锁     解锁     屏蔽    仅网页
地区：                       [SG]     [SG]     [SG]              [SG]
方式：                       原生     原生     原生              原生
六、邮局连通性及黑名单检测
本地25端口：阻断
IP地址黑名单数据库：  有效 439   正常 397   已标记 42   黑名单 0
================================================================





</code></pre>
]]></content>
      <categories>
        <category>cloud</category>
      </categories>
      <tags>
        <tag>华为云</tag>
        <tag>huaweicloud</tag>
        <tag>server</tag>
      </tags>
  </entry>
  <entry>
    <title>已经有人因为崩铁魔怔了😂</title>
    <url>/posts/39369/</url>
    <content><![CDATA[<h1 id="难绷"><a href="#难绷" class="headerlink" title="难绷"></a>难绷</h1><p><img src="https://file.butlanys.de/img/f0552840a85d21f8905fb1696de79f6e.jpg"></p>
]]></content>
  </entry>
  <entry>
    <title>开发环境一键部署脚本code.sh</title>
    <url>/posts/14801/</url>
    <content><![CDATA[<h1 id="🚀-开发环境一键部署脚本-Debian-Ubuntu"><a href="#🚀-开发环境一键部署脚本-Debian-Ubuntu" class="headerlink" title="🚀 开发环境一键部署脚本 (Debian&#x2F;Ubuntu)"></a>🚀 开发环境一键部署脚本 (Debian&#x2F;Ubuntu)</h1><p><a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></p>
<p>一个用于在 Debian&#x2F;Ubuntu 系统上快速、轻松地安装常用开发环境和工具的 Bash 脚本。支持通过命令行参数进行非交互式批量安装，或通过交互式菜单引导用户进行选择性安装。</p>
<p><strong>项目地址:</strong> <a href="https://github.com/butlanys/code.sh">https://github.com/butlanys/code.sh</a></p>
<hr>
<h2 id="✨-功能特性"><a href="#✨-功能特性" class="headerlink" title="✨ 功能特性"></a>✨ 功能特性</h2><ul>
<li>✅ <strong>多种工具支持</strong>: 一键安装 Git, C&#x2F;C++, Python (apt&#x2F;源码编译), Go (apt&#x2F;官网最新版), Java (OpenJDK), Node.js (LTS&#x2F;最新), Rust (rustup), Ruby (apt), PHP (可选 PPA), Docker CE, nvm 等。</li>
<li>🚀 <strong>命令行模式</strong>: 通过参数指定需要安装的工具，实现快速、自动化的环境部署。非常适合在自动化脚本或新服务器初始化时使用。</li>
<li>💡 <strong>交互式菜单</strong>: 无需记忆复杂参数，通过简单直观的菜单选择需要安装的工具，对新手友好。</li>
<li>🎨 <strong>彩色输出</strong>: 在交互模式下提供彩色的日志和提示信息，增强可读性和用户体验。 (命令行模式下自动禁用颜色)。</li>
<li>mirrors: <strong>镜像源更换</strong>: 内置选项，可快速将 APT 源更换为中国大陆镜像或恢复为国际官方源，解决部分地区下载速度慢的问题 (使用 <a href="https://linuxmirrors.cn/">linuxmirrors.cn</a> 提供的脚本)。</li>
<li>🐍 <strong>灵活的 Python 安装</strong>: 可选择使用 <code>apt</code> 安装系统稳定版，或从 Python 官网源码编译安装指定版本。</li>
<li>🐹 <strong>灵活的 Go 安装</strong>: 可选择使用 <code>apt</code> 安装系统版本，或自动从 Go 官网下载并安装最新的稳定版二进制包。</li>
<li>⚙️ <strong>配置与提示</strong>: 自动处理部分环境配置 (如 Docker 用户组添加, Go PATH 设置)，并提供清晰的后续操作提示 (如 nvm&#x2F;Rust 环境加载)。</li>
</ul>
<hr>
<h2 id="📋-环境要求"><a href="#📋-环境要求" class="headerlink" title="📋 环境要求"></a>📋 环境要求</h2><ul>
<li><strong>操作系统</strong>: Debian 或 Ubuntu (基于 <code>apt</code> 包管理器)。</li>
<li><strong>权限</strong>: 需要 <code>sudo</code> 或 <code>root</code> 权限运行脚本 (因为需要安装软件包和修改系统配置)。</li>
<li><strong>基础命令</strong>:<ul>
<li><code>bash</code>: 脚本解释器。</li>
<li><code>curl</code> 或 <code>wget</code>: 用于下载外部脚本和软件包。</li>
<li><code>git</code>: 如果你选择通过 <code>git clone</code> 获取脚本。</li>
<li><code>grep</code>, <code>sed</code>, <code>awk</code>, <code>tar</code>: 用于 Go 官网版本安装。</li>
<li><code>build-essential</code> 等: 如果选择从源码编译 Python。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="🚀-使用方法"><a href="#🚀-使用方法" class="headerlink" title="🚀 使用方法"></a>🚀 使用方法</h2><p><strong>1. 获取脚本</strong></p>
<ul>
<li><strong>通过 curl:</strong><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -O https://raw.githubusercontent.com/butlanys/code.sh/main/code.sh</span><br></pre></td></tr></table></figure></li>
<li><strong>直接下载:</strong><br>访问 <a href="https://github.com/butlanys/code.sh">https://github.com/butlanys/code.sh</a> 并下载 <code>code.sh</code> 文件。</li>
</ul>
<p><strong>2. 添加执行权限</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x code.sh</span><br></pre></td></tr></table></figure>

<p><strong>3. 运行脚本</strong></p>
<p><strong>重要提示:</strong> 脚本需要 <code>sudo</code> 权限！</p>
<ul>
<li><p><strong>交互式菜单模式 (推荐新手):</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> ./code.sh</span><br></pre></td></tr></table></figure>

<p>脚本将以彩色界面启动，根据菜单提示选择要安装的工具。</p>
</li>
<li><p><strong>命令行参数模式 (适合自动化):</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> ./code.sh [选项...]</span><br></pre></td></tr></table></figure>

<p><strong>示例:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 安装 Git, 从源码编译 Python 3.11.9, 安装 Node.js LTS 版, 从官网安装 Go 最新版</span></span><br><span class="line"><span class="built_in">sudo</span> ./code.sh --git --python 3.11.9 --node lts --go manual</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更换为中国大陆 APT 源，然后安装基础包和 Docker</span></span><br><span class="line"><span class="built_in">sudo</span> ./code.sh --change-source cn --basic-packages --docker</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装所有常用工具 (使用默认推荐设置)，但 PHP 不使用 PPA</span></span><br><span class="line"><span class="built_in">sudo</span> ./code.sh --all --no-ppa</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看帮助信息</span></span><br><span class="line"><span class="built_in">sudo</span> ./code.sh --<span class="built_in">help</span></span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h2 id="🛠️-可用选项-命令行"><a href="#🛠️-可用选项-命令行" class="headerlink" title="🛠️ 可用选项 (命令行)"></a>🛠️ 可用选项 (命令行)</h2><table>
<thead>
<tr>
<th align="left">选项</th>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>--basic-packages</code></td>
<td align="left">(无)</td>
<td align="left">安装基础软件包 (curl, wget, git, vim, etc.)</td>
</tr>
<tr>
<td align="left"><code>--git</code></td>
<td align="left">(无)</td>
<td align="left">安装 Git 版本控制系统</td>
</tr>
<tr>
<td align="left"><code>--c-cpp</code></td>
<td align="left">(无)</td>
<td align="left">安装 C&#x2F;C++ 开发工具 (build-essential, cmake, gdb)</td>
</tr>
<tr>
<td align="left"><code>--python</code></td>
<td align="left"><code>&lt;version&gt;</code> 或 <code>apt</code></td>
<td align="left">安装 Python (‘apt’ 或指定版本如 ‘3.11.9’ 进行编译)</td>
</tr>
<tr>
<td align="left"><code>--go</code></td>
<td align="left"><code>apt</code> 或 <code>manual/latest</code></td>
<td align="left">安装 Go (‘apt’ 或从官网安装最新稳定版)</td>
</tr>
<tr>
<td align="left"><code>--java</code></td>
<td align="left">(无)</td>
<td align="left">安装 Java (Microsoft OpenJDK)</td>
</tr>
<tr>
<td align="left"><code>--node</code></td>
<td align="left"><code>lts</code>, <code>latest</code>, <code>&lt;ver&gt;</code></td>
<td align="left">安装 Node.js (LTS, 最新版, 或指定主版本号如 ‘20’)</td>
</tr>
<tr>
<td align="left"><code>--rust</code></td>
<td align="left">(无)</td>
<td align="left">安装 Rust (通过官方 rustup)</td>
</tr>
<tr>
<td align="left"><code>--ruby</code></td>
<td align="left"><code>apt</code></td>
<td align="left">安装 Ruby (仅支持 ‘apt’ 安装系统版本)</td>
</tr>
<tr>
<td align="left"><code>--php</code></td>
<td align="left">(无)</td>
<td align="left">安装 PHP 及常用扩展 (Ubuntu 默认尝试 PPA)</td>
</tr>
<tr>
<td align="left"><code>--no-ppa</code></td>
<td align="left">(无)</td>
<td align="left">与<code>--php</code> 结合，强制不在 Ubuntu 上添加 Ondrej PPA</td>
</tr>
<tr>
<td align="left"><code>--docker</code></td>
<td align="left">(无)</td>
<td align="left">安装 Docker CE (社区版)</td>
</tr>
<tr>
<td align="left"><code>--nvm</code></td>
<td align="left">(无)</td>
<td align="left">安装 nvm (Node Version Manager)</td>
</tr>
<tr>
<td align="left"><code>--change-source</code></td>
<td align="left"><code>cn</code> 或 <code>abroad</code></td>
<td align="left">更换 APT 源 (cn: 中国大陆镜像, abroad: 国际官方源)</td>
</tr>
<tr>
<td align="left"><code>--all</code></td>
<td align="left">(无)</td>
<td align="left">安装除换源外的所有常用工具 (使用默认推荐设置)</td>
</tr>
<tr>
<td align="left"><code>--help</code></td>
<td align="left">(无)</td>
<td align="left">显示帮助信息并退出</td>
</tr>
</tbody></table>
<hr>
<h2 id="⚠️-重要注意事项"><a href="#⚠️-重要注意事项" class="headerlink" title="⚠️ 重要注意事项"></a>⚠️ 重要注意事项</h2><ul>
<li><strong>权限:</strong> 再次强调，脚本必须以 <code>sudo</code> 或 <code>root</code> 权限运行。</li>
<li><strong>Python 编译:</strong> 从源码编译 Python 会安装编译依赖 (<code>build-essential</code> 等)，且耗时较长。</li>
<li><strong>Go 官网安装:</strong> 从官网安装 Go 依赖 <code>curl</code>&#x2F;<code>wget</code>, <code>grep</code>, <code>sed</code>, <code>awk</code>, <code>tar</code>。其解析下载链接和校验和的逻辑依赖于 Go 官网页面结构，若官网改版可能失效。</li>
<li><strong>更换 APT 源:</strong><ul>
<li>此功能使用外部脚本 (<code>linuxmirrors.cn</code>)，请确保您信任该脚本来源。</li>
<li>更换源会修改系统核心配置 (<code>/etc/apt/sources.list</code>)，请谨慎操作。</li>
<li>换源后，脚本<strong>不会</strong>自动执行 <code>apt update</code>，请在脚本执行完毕后根据提示手动运行 <code>sudo apt update &amp;&amp; sudo apt upgrade</code>。</li>
</ul>
</li>
<li><strong>用户级工具:</strong> <code>nvm</code> 和 <code>rustup</code> 会安装到执行 <code>sudo</code> 命令的用户的家目录下 (通常是你的普通用户，而不是 root)。</li>
<li><strong>后续操作:</strong><ul>
<li><strong>Docker:</strong> 安装后，需要重新登录或运行 <code>newgrp docker</code> 命令，才能让当前用户免 <code>sudo</code> 使用 <code>docker</code> 命令。</li>
<li><strong>nvm&#x2F;Rust:</strong> 安装后，需要关闭当前终端并重新打开，或手动执行 <code>source ~/.bashrc</code> (或 <code>.zshrc</code> 等对应文件) 来加载环境变量。</li>
<li><strong>Go (手动安装):</strong> 安装后，需要重新登录或运行 <code>source /etc/profile.d/go.sh</code> 来使 <code>go</code> 命令在 PATH 中生效。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="🤝-贡献"><a href="#🤝-贡献" class="headerlink" title="🤝 贡献"></a>🤝 贡献</h2><p>欢迎通过提交 Pull Requests 或报告 Issues 来改进此脚本！</p>
<hr>
<h2 id="📄-许可证"><a href="#📄-许可证" class="headerlink" title="📄 许可证"></a>📄 许可证</h2><p>本项目使用 <a href="LICENSE">MIT</a> 许可证。</p>
<p>爱来自<a href="https://aistudio.google.com/prompts/">Gemini 2.5 Pro Preview 03-25</a></p>
]]></content>
      <categories>
        <category>bash</category>
      </categories>
      <tags>
        <tag>bash</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>微信4.0测试版上线</title>
    <url>/posts/12944/</url>
    <content><![CDATA[<p>此次更新不仅支持了更多的系统以及架构，还更新了深色模式<del>（熬夜党狂喜）</del></p>
<p><img src="https://file.hqycloud.top/img/a94fc06ca35dee6d196e9e6b975f802a.png" alt="https:&#x2F;&#x2F;file.hqycloud.top&#x2F;img&#x2F;a94fc06ca35dee6d196e9e6b975f802a.png"></p>
<p>下载地址</p>
<p><a href="https://weixin.qq.com/">微信，是一个生活方式</a></p>
<p><a href="https://linux.weixin.qq.com/">微信 Linux 测试版</a></p>
]]></content>
      <categories>
        <category>wechat</category>
      </categories>
      <tags>
        <tag>wechat</tag>
        <tag>微信</tag>
      </tags>
  </entry>
  <entry>
    <title>微信一号多登版分享（Android）</title>
    <url>/posts/19950/</url>
    <content><![CDATA[<blockquote>
<p>这个版本可以在备用机上使用平板登录</p>
</blockquote>
<p>跟lspatch打入mod相比，这个启动速度更快</p>
<p>链接：<a href="https://alist.hqycloud.top/res/Wechat/">https://alist.hqycloud.top/res/Wechat/</a></p>
]]></content>
      <categories>
        <category>wechat</category>
      </categories>
      <tags>
        <tag>wechat</tag>
      </tags>
  </entry>
  <entry>
    <title>快速搭建debian运行环境</title>
    <url>/posts/9992/</url>
    <content><![CDATA[<p>此教程适用于希望快速启动一个干净的系统的人群</p>
<h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ul>
<li>VMware workstation</li>
<li>一个系统镜像或封装好的vmdk文件</li>
</ul>
<h2 id="一、将img镜像转换为vmdk（可以选择跳过，直接使用作者打包并配置好的vmdk）"><a href="#一、将img镜像转换为vmdk（可以选择跳过，直接使用作者打包并配置好的vmdk）" class="headerlink" title="一、将img镜像转换为vmdk（可以选择跳过，直接使用作者打包并配置好的vmdk）"></a>一、将img镜像转换为vmdk（可以选择跳过，直接使用作者打包并配置好的vmdk）</h2><p>这里需要借助StarWind V2V Converter工具</p>
<h4 id="1、打开StarWind-V2V-Converter"><a href="#1、打开StarWind-V2V-Converter" class="headerlink" title="1、打开StarWind V2V Converter"></a>1、打开StarWind V2V Converter</h4><p>打开后选择local file</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_62b8a81d2d2ba3734f7507dd2016f6e2.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_62b8a81d2d2ba3734f7507dd2016f6e2.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_62b8a81d2d2ba3734f7507dd2016f6e2.png"></a></p>
<h4 id="2、选取下载好的debian镜像"><a href="#2、选取下载好的debian镜像" class="headerlink" title="2、选取下载好的debian镜像"></a>2、选取下载好的debian镜像</h4><p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_3215678bd0e01f17750a639af335ea7b.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_3215678bd0e01f17750a639af335ea7b.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_3215678bd0e01f17750a639af335ea7b.png"></a></p>
<p>选择好后点击next</p>
<h4 id="3、选择local-file并继续下一步"><a href="#3、选择local-file并继续下一步" class="headerlink" title="3、选择local file并继续下一步"></a>3、选择local file并继续下一步</h4><p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_fb46a79a649269d742739565af7516e1.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_fb46a79a649269d742739565af7516e1.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_fb46a79a649269d742739565af7516e1.png"></a></p>
<h4 id="4、选择需要转换的格式"><a href="#4、选择需要转换的格式" class="headerlink" title="4、选择需要转换的格式"></a>4、选择需要转换的格式</h4><p>VMware选VMDK</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_70ec8b9a4ba1944478168baf6b96c0b2.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_70ec8b9a4ba1944478168baf6b96c0b2.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_70ec8b9a4ba1944478168baf6b96c0b2.png"></a></p>
<h4 id="5、根据需求选择镜像类型"><a href="#5、根据需求选择镜像类型" class="headerlink" title="5、根据需求选择镜像类型"></a>5、根据需求选择镜像类型</h4><ul>
<li>第一个是动态分配</li>
<li>第二个是固定大小分配</li>
</ul>
<p>没有特殊需求第一个即可</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_84508284ae370e9e7e3fbbc2c593eb67.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_84508284ae370e9e7e3fbbc2c593eb67.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_84508284ae370e9e7e3fbbc2c593eb67.png"></a></p>
<h4 id="6、选择好转换后保存镜像的位置"><a href="#6、选择好转换后保存镜像的位置" class="headerlink" title="6、选择好转换后保存镜像的位置"></a>6、选择好转换后保存镜像的位置</h4><p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_4fd3715a0537dafc2001a5f91f62e904.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_4fd3715a0537dafc2001a5f91f62e904.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_4fd3715a0537dafc2001a5f91f62e904.png"></a></p>
<h4 id="7、完成镜像转换"><a href="#7、完成镜像转换" class="headerlink" title="7、完成镜像转换"></a>7、完成镜像转换</h4><h2 id="二、启动虚拟机实例"><a href="#二、启动虚拟机实例" class="headerlink" title="二、启动虚拟机实例"></a>二、启动虚拟机实例</h2><h4 id="1、配置虚拟机参数"><a href="#1、配置虚拟机参数" class="headerlink" title="1、配置虚拟机参数"></a>1、配置虚拟机参数</h4><p>如有其他需求可自行配置</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_7e9c2a9fa0772e11a695c35bb1dee2a7.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_7e9c2a9fa0772e11a695c35bb1dee2a7.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_7e9c2a9fa0772e11a695c35bb1dee2a7.png"></a></p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_70ece60a1251e170d42d6236bbc0f1ee.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_70ece60a1251e170d42d6236bbc0f1ee.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_70ece60a1251e170d42d6236bbc0f1ee.png"></a></p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_040b528dd1f64fef76c1f54eff16d8d2.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_040b528dd1f64fef76c1f54eff16d8d2.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_040b528dd1f64fef76c1f54eff16d8d2.png"></a></p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_96c33f8439daf0ff8c43aeac380b6bb3.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_96c33f8439daf0ff8c43aeac380b6bb3.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_96c33f8439daf0ff8c43aeac380b6bb3.png"></a></p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_f26f86eb2d9a711e55ab7d992dd63ae2.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_f26f86eb2d9a711e55ab7d992dd63ae2.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_f26f86eb2d9a711e55ab7d992dd63ae2.png"></a></p>
<ul>
<li>磁盘可以随便设置（待会需要删掉）</li>
</ul>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_dc782ef30000da5abaf8d9e1c95eec96.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_dc782ef30000da5abaf8d9e1c95eec96.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_dc782ef30000da5abaf8d9e1c95eec96.png"></a></p>
<h5 id="重点"><a href="#重点" class="headerlink" title="重点"></a>重点</h5><p>编辑虚拟机设置</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_c852d0932acbdbc937d5a0b0bde7f71f.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_c852d0932acbdbc937d5a0b0bde7f71f.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_c852d0932acbdbc937d5a0b0bde7f71f.png"></a></p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_22ec78c8397806a21ce8bf25a811ea99.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_22ec78c8397806a21ce8bf25a811ea99.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_22ec78c8397806a21ce8bf25a811ea99.png"></a></p>
<h5 id="选择并移除刚才创建的硬盘然后把转换好的vmdk加入到虚拟机里"><a href="#选择并移除刚才创建的硬盘然后把转换好的vmdk加入到虚拟机里" class="headerlink" title="选择并移除刚才创建的硬盘然后把转换好的vmdk加入到虚拟机里"></a>选择并移除刚才创建的硬盘然后把转换好的vmdk加入到虚拟机里</h5><ul>
<li>打开资源管理器（打开虚拟机文件位置）</li>
</ul>
<p>删掉原来的硬盘文件，这里是Debian.vmdk</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_59d1fb458d0cd6862aecd1cbbc687019.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_59d1fb458d0cd6862aecd1cbbc687019.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_59d1fb458d0cd6862aecd1cbbc687019.png"></a></p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_1b04d505e6fccd139a8affc1bf189562.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_1b04d505e6fccd139a8affc1bf189562.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_1b04d505e6fccd139a8affc1bf189562.png"></a></p>
<ul>
<li>然后将转换后的vmdk复制到文件夹里</li>
</ul>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_8e8e4c0cae829ab9823bb53358d2d982.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_8e8e4c0cae829ab9823bb53358d2d982.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_8e8e4c0cae829ab9823bb53358d2d982.png"></a></p>
<ul>
<li>然后返回VMware，打开编辑虚拟机，点下面的添加</li>
</ul>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_db139e21e1804a70da5bf5c4879ed2b1.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_db139e21e1804a70da5bf5c4879ed2b1.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_db139e21e1804a70da5bf5c4879ed2b1.png"></a></p>
<ul>
<li>选择硬盘后点击下一步</li>
</ul>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_a4e3a76cd37f00e4bbb6ac8f9682fd8b.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_a4e3a76cd37f00e4bbb6ac8f9682fd8b.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_a4e3a76cd37f00e4bbb6ac8f9682fd8b.png"></a></p>
<ul>
<li>这里选择使用现有的虚拟磁盘</li>
</ul>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_78d09a0b4ed07472e67e89960299b438.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_78d09a0b4ed07472e67e89960299b438.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_78d09a0b4ed07472e67e89960299b438.png"></a></p>
<ul>
<li>选择刚才复制进去的虚拟磁盘</li>
</ul>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_08a9cbec7364d3034207c81584da3051.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_08a9cbec7364d3034207c81584da3051.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_08a9cbec7364d3034207c81584da3051.png"></a></p>
<p>这里随意</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_d696b469077e13631235bfc0cd4e7063.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_d696b469077e13631235bfc0cd4e7063.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_d696b469077e13631235bfc0cd4e7063.png"></a></p>
<ul>
<li>然后选择扩展磁盘</li>
</ul>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_156436b3c8bf12db96e7554dfcae75e0.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_156436b3c8bf12db96e7554dfcae75e0.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_156436b3c8bf12db96e7554dfcae75e0.png"></a></p>
<h2 id="开启并配置虚拟机"><a href="#开启并配置虚拟机" class="headerlink" title="开启并配置虚拟机"></a>开启并配置虚拟机</h2><p>如果顺利则会看到下面的界面，进入虚拟机后按回车键即可登录</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_e1bdfc652d9b0d33c9bccd51ef6f3582.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_e1bdfc652d9b0d33c9bccd51ef6f3582.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_e1bdfc652d9b0d33c9bccd51ef6f3582.png"></a></p>
<p>用户名：root</p>
<p>密码：abcd@1234</p>
<h4 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h4><p>输入ip add即可查看IP</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_2ce70afeebbc3b3808fedb8c7d5f4ca9.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_2ce70afeebbc3b3808fedb8c7d5f4ca9.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_2ce70afeebbc3b3808fedb8c7d5f4ca9.png"></a></p>
<p>此镜像启动之后自动通过dhcp获取IP</p>
<p>如果不显示IP，点击：</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_44582e907a1a7357d520fd029fd0dec0.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_44582e907a1a7357d520fd029fd0dec0.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_44582e907a1a7357d520fd029fd0dec0.png"></a></p>
<p>编辑网络配置开启dhcp</p>
<p><a href="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_cc72380568f10fc32141fa92820b0b0e.png"><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/7/image_cc72380568f10fc32141fa92820b0b0e.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;7&#x2F;image_cc72380568f10fc32141fa92820b0b0e.png"></a></p>
<h2 id="资源链接"><a href="#资源链接" class="headerlink" title="资源链接"></a>资源链接</h2><p>镜像来源于nodeseek论坛上的大佬精简</p>
<ul>
<li>原贴：<a href="https://www.nodeseek.com/post-34074-1">分享：Debian 12 裁剪内核及最小化DD底包 (nodeseek.com)</a></li>
</ul>
<p>打包好的镜像</p>
<ul>
<li><a href="https://alist.hqycloud.top/res/linux/debian.img">debian.img | 资源站 (hqycloud.top)</a></li>
<li><a href="https://alist.hqycloud.top/res/linux/debian.vmdk">debian.vmdk | 资源站 (hqycloud.top)</a></li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>晚高峰的华为云io</title>
    <url>/posts/12995/</url>
    <content><![CDATA[<p>华为云新加坡Flexus L：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">root@host-192-168-7-62:~# dd if=/dev/zero of=test bs=64k count=4k oflag=dsync</span><br><span class="line">4096+0 records in</span><br><span class="line">4096+0 records out</span><br><span class="line">268435456 bytes (268 MB, 256 MiB) copied, 8.37634 s, 32.0 MB/s</span><br></pre></td></tr></table></figure>

<p>作为对比，下面是阿里云香港和rn美西的测试结果：<br>阿里云：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">root@ubuntu:~# dd if=/dev/zero of=test bs=64k count=4k oflag=dsync</span><br><span class="line">4096+0 records in</span><br><span class="line">4096+0 records out</span><br><span class="line">268435456 bytes (268 MB, 256 MiB) copied, 6.12062 s, 43.9 MB/s</span><br></pre></td></tr></table></figure>

<p>rn：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">root@racknerd-server:~# dd if=/dev/zero of=test bs=64k count=4k oflag=dsync</span><br><span class="line">4096+0 records in</span><br><span class="line">4096+0 records out</span><br><span class="line">268435456 bytes (268 MB, 256 MiB) copied, 1.92984 s, 139 MB/s</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>cloud</category>
      </categories>
      <tags>
        <tag>华为云</tag>
        <tag>huaweicloud</tag>
        <tag>server</tag>
      </tags>
  </entry>
  <entry>
    <title>纪念碑谷3免登陆版分享</title>
    <url>/posts/44134/</url>
    <content><![CDATA[<blockquote>
<p>去除了登录限制</p>
</blockquote>
<p>链接：<a href="https://alist.hqycloud.top/res/Monument_Valley3.0">https://alist.hqycloud.top/res/Monument_Valley3.0</a></p>
]]></content>
  </entry>
  <entry>
    <title>网页接入aplayer音乐播放器</title>
    <url>/posts/16450/</url>
    <content><![CDATA[<h1 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h1><p>此教程适用自行开发网页、博客，以及有自定义aplayer需求的群体</p>
<p>比如说<a href="https://blog.hqycloud.top/posts/51355/">aplayer播放器对接alist | butlanys的博客</a>播放等 <del>（此文章正在写，稍安毋操）</del></p>
<h1 id="二、准备"><a href="#二、准备" class="headerlink" title="二、准备"></a>二、准备</h1><p>下载css、js到自己的网站目录下</p>
<p>地址：<a href="https://github.com/DIYgod/APlayer/tree/master/dist">APlayer&#x2F;dist at master · DIYgod&#x2F;APlayer</a></p>
<p>致使用hexo butterfly主题的站长们，如果已在博客中使用aplayer需要在配置文件中把aplayerInject里enable值改为false</p>
<h1 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h1><p>这里以hexo butterfly为例</p>
<p>在_config.butterfly.yml文件的inject—head中加入</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;/pluginsSrc/aplayer/dist/APlayer<span class="selector-class">.min</span><span class="selector-class">.css</span>&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>请将路径改为你自己的路径</p>
<p>在bottom中加入</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;/pluginsSrc/aplayer/dist/APlayer.min.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h1 id="调用"><a href="#调用" class="headerlink" title="调用"></a>调用</h1><p>新建一个js文件</p>
<p>并参照官方文档进行修改：<a href="https://aplayer.js.org/#/zh-Hans/?id=%E5%85%A5%E9%97%A8">首页 - APlayer</a></p>
<h1 id="引入自定义的配置文件"><a href="#引入自定义的配置文件" class="headerlink" title="引入自定义的配置文件"></a>引入自定义的配置文件</h1><p>回到_config.butterfly.yml中，在bottom字段添加</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;aplayer&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;自定义的js文件名.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h1 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h1><p>接下来就可以刷新你的网页，查看是否出现aplayer播放器</p>
<h1 id="后续美化"><a href="#后续美化" class="headerlink" title="后续美化"></a>后续美化</h1><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Aplayer日间模式调整 */</span></span><br><span class="line"><span class="comment">/* 背景色 */</span></span><br><span class="line"><span class="selector-class">.aplayer</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.6</span>) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.07</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-lrc</span><span class="selector-pseudo">:after</span>,</span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-lrc</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.6</span>) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.07</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 滚动条 */</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span>::-webkit-scrollbar &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span>::-webkit-scrollbar-thumb &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--theme-color) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span>::-webkit-scrollbar-thumb:hover &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--theme-color) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 圆角 */</span></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-list</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">6px</span> <span class="number">6px</span> <span class="number">0</span> <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-miniswitcher</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0</span> <span class="number">6px</span> <span class="number">6px</span> <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span><span class="selector-class">.aplayer-narrow</span> <span class="selector-class">.aplayer-body</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.28s</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">6px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 选中与播放中歌曲激活颜色 */</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--theme-color) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span><span class="selector-class">.aplayer-list-light</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--theme-color) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 歌词 */</span></span><br><span class="line"><span class="selector-class">.aplayer-lrc</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffffff</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="number">#000000</span> <span class="number">1px</span> <span class="number">0</span> <span class="number">0</span>, <span class="number">#000000</span> <span class="number">0</span> <span class="number">1px</span> <span class="number">0</span>, <span class="number">#000000</span> -<span class="number">1px</span> <span class="number">0</span> <span class="number">0</span>, <span class="number">#000000</span></span><br><span class="line">      <span class="number">0</span> -<span class="number">1px</span> <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Aplayer黑暗模式 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.aplayer</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">22</span>, <span class="number">22</span>, <span class="number">0.6</span>) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.07</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">22</span>, <span class="number">22</span>, <span class="number">0.6</span>) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.07</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span></span><br><span class="line">  <span class="selector-class">.aplayer</span></span><br><span class="line">  <span class="selector-class">.aplayer-info</span></span><br><span class="line">  <span class="selector-class">.aplayer-controller</span></span><br><span class="line">  <span class="selector-class">.aplayer-time</span></span><br><span class="line">  <span class="selector-tag">path</span> &#123;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#d4d4d4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--theme-color) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span><span class="selector-class">.aplayer-list-light</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--theme-color) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-controller</span> <span class="selector-class">.aplayer-time</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#d4d4d4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span> <span class="selector-class">.aplayer-list-index</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#d4d4d4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span> <span class="selector-class">.aplayer-list-author</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#d4d4d4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-miniswitcher</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">22</span>, <span class="number">22</span>, <span class="number">0.6</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>aplayer</category>
      </categories>
      <tags>
        <tag>aplayer</tag>
        <tag>music</tag>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title>自己部署一个google search for yhchat</title>
    <url>/posts/47372/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><strong>此bot可以在<a href="https://www.yhchat.com/">云湖</a>上使用Google搜索</strong></p>
<p>访问链接使用云湖机器人【Google】<br><a href="https://yhfx.jwznb.com/share?key=nUNgDBS8LmFJ&ts=1728116702">https://yhfx.jwznb.com/share?key=nUNgDBS8LmFJ&amp;ts=1728116702</a><br>机器人ID: 39049819</p>
<p>已开源，项目地址：<a href="https://github.com/butlanys/google-search-yhchat">butlanys&#x2F;google-search-yhchat (github.com)</a></p>
<p>可帮助小白快速解决问题</p>
<img src="https://chat-img.jwznb.com/sticker/765a931fabb105ee7280500e7a2b47dc00037f33.png" height="200">

<p><strong>并且此项目支持无服务器部署！！！</strong></p>
<p><strong>简单快速易上手</strong></p>
<h1 id="申请api"><a href="#申请api" class="headerlink" title="申请api"></a>申请api</h1><p>在这里申请一个api key：<a href="https://developers.google.com/custom-search/v1/overview?hl=zh-cn">Custom Search JSON API  |  Programmable Search Engine  |  Google for Developers</a></p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_d497113754baca605f005e2b5cd5d051.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_d497113754baca605f005e2b5cd5d051.png"></p>
<p>如果没有项目则需要先创建</p>
<p>然后在cloudflare面板中创建一个worker项目</p>
<p>然后将下面的代码覆盖到原来的示例代码中：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">addEventListener</span>(<span class="string">&#x27;fetch&#x27;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">  event.<span class="title function_">respondWith</span>(<span class="title function_">handleRequest</span>(event.<span class="property">request</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">handleRequest</span>(<span class="params">request</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (request.<span class="property">method</span> !== <span class="string">&#x27;POST&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">&#x27;&#x27;</span>, &#123; <span class="attr">status</span>: <span class="number">200</span> &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> json = <span class="keyword">await</span> request.<span class="title function_">json</span>();</span><br><span class="line">    <span class="keyword">const</span> &#123; content, chatId, chatType &#125; = json.<span class="property">event</span>.<span class="property">message</span>;</span><br><span class="line">    <span class="keyword">const</span> &#123; senderId &#125; = json.<span class="property">event</span>.<span class="property">sender</span>;</span><br><span class="line">    <span class="keyword">const</span> &#123; text &#125; = content;</span><br><span class="line">    <span class="keyword">const</span> commandId = json.<span class="property">event</span>.<span class="property">message</span>.<span class="property">commandId</span>;</span><br><span class="line">    <span class="keyword">const</span> botCommandId = <span class="built_in">parseInt</span>(<span class="variable constant_">BOT_COMMAND_ID</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> searchQuery = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">let</span> recvId = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">let</span> recvType = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (chatType === <span class="string">&#x27;group&#x27;</span> &amp;&amp; commandId === botCommandId) &#123;</span><br><span class="line">      searchQuery = text;</span><br><span class="line">      recvId = chatId;</span><br><span class="line">      recvType = <span class="string">&#x27;group&#x27;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (chatType !== <span class="string">&#x27;group&#x27;</span>) &#123;</span><br><span class="line">      searchQuery = text;</span><br><span class="line">      recvId = senderId;</span><br><span class="line">      recvType = <span class="string">&#x27;user&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (searchQuery) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> encodedQuery = <span class="built_in">encodeURIComponent</span>(searchQuery);</span><br><span class="line">        <span class="keyword">const</span> googleApiUrl = <span class="string">`https://www.googleapis.com/customsearch/v1?key=<span class="subst">$&#123;GOOGLE_API_KEY&#125;</span>&amp;cx=<span class="subst">$&#123;GOOGLE_CX&#125;</span>&amp;q=<span class="subst">$&#123;encodedQuery&#125;</span>`</span>;</span><br><span class="line">        <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(googleApiUrl);</span><br><span class="line">        <span class="keyword">const</span> data = <span class="keyword">await</span> response.<span class="title function_">json</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> message = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span> (data.<span class="property">items</span> &amp;&amp; data.<span class="property">items</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="title class_">Math</span>.<span class="title function_">min</span>(data.<span class="property">items</span>.<span class="property">length</span>, <span class="number">8</span>); i++) &#123;</span><br><span class="line">            <span class="keyword">const</span> item = data.<span class="property">items</span>[i];</span><br><span class="line">            message += <span class="string">`&lt;a href=&quot;<span class="subst">$&#123;item.link&#125;</span>&quot;&gt;<span class="subst">$&#123;item.title&#125;</span>&lt;/a&gt;&lt;br&gt;<span class="subst">$&#123;item.snippet&#125;</span>&lt;br&gt;&lt;br&gt;`</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          message = <span class="string">&quot;未找到结果。&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">await</span> <span class="title function_">sendMessage</span>(recvId, message, data.<span class="property">items</span> &amp;&amp; data.<span class="property">items</span>.<span class="property">length</span> &gt; <span class="number">0</span> ? <span class="string">&quot;html&quot;</span> : <span class="string">&quot;text&quot;</span>, recvType);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">&#x27;&#x27;</span>, &#123; <span class="attr">status</span>: <span class="number">200</span> &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">sendMessage</span>(<span class="params">recvId, content, contentType, recvType</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> token = <span class="variable constant_">YHCHAT_TOKEN</span>;</span><br><span class="line">    <span class="keyword">const</span> url = <span class="string">`https://chat-go.jwzhd.com/open-apis/v1/bot/send?token=<span class="subst">$&#123;token&#125;</span>`</span>;</span><br><span class="line">    <span class="keyword">const</span> bodyContent = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; recvId, recvType, contentType, <span class="attr">content</span>: &#123; <span class="attr">text</span>: content &#125; &#125;);</span><br><span class="line">    <span class="keyword">const</span> headers = &#123; <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span> &#125;;</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">fetch</span>(url, &#123; <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>, headers, <span class="attr">body</span>: bodyContent &#125;);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>点击<code>部署</code></p>
<h1 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h1><p>完成后返回刚创建的worker项目主页，点击设置，在下面找到环境与变量</p>
<p><code>YHCHAT_TOKEN</code> &#x3D; 在云湖官网控制台中创建机器人后得到的token</p>
<p><code>BOT_COMMAND_ID</code> &#x3D; 创建一个控制台中创建一个普通按钮后得到的按钮id</p>
<p><code>GOOGLE_API_KEY</code> &#x3D; 上面在谷歌那申请到的api key</p>
<p><code>GOOGLE_CX</code> &#x3D; 根据Google描述，这个叫<strong>可编程搜索引擎 ID</strong> ，要在<a href="https://programmablesearchengine.google.com/controlpanel/all">可编程搜索 - 所有搜索引擎 (google.com)</a> 中创建，创建好后就可以在概览中看到搜索引擎 ID</p>
<p>设置好这四个环境变量后，就需要返回部署页面中点一下部署</p>
<h1 id="设置解析"><a href="#设置解析" class="headerlink" title="设置解析"></a>设置解析</h1><p>接着需要在设置中设置一个自定义域（云湖服务器在国内，而worker域名早已被封禁）</p>
<p>在<code>域和路由</code>中点击添加选择路由，区域选任意一个域名，然后输入域名+&#x2F;* （例如yhchat.aaa.com&#x2F;*）</p>
<p>然后去dns解析中为这个域名添加一个记录，可以cname到dns-cf.hqycloud.top（相比较于cf原来分配的IP，此优选IP可以提升响应速度）</p>
<p>然后将这条域名添加到云湖控制台的<code>配置消息订阅接口</code>（例如：<a href="https://yhchat.aaa.com)/">https://yhchat.aaa.com）</a></p>
<p>接着就可以到云湖中测试此机器人是否可以正常搜索</p>
<h1 id="效果："><a href="#效果：" class="headerlink" title="效果："></a>效果：</h1><ul>
<li>群组<img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_373ed3e31f7c87e894c1b1d54e2d2600.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_373ed3e31f7c87e894c1b1d54e2d2600.png"></li>
<li>私聊<img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_0befb1605bdfe0631ee13f4155d9e81c.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_0befb1605bdfe0631ee13f4155d9e81c.png"></li>
</ul>
<h1 id="一些表情包"><a href="#一些表情包" class="headerlink" title="一些表情包"></a>一些表情包</h1><img src="https://chat-img.jwznb.com/sticker/765a931fabb105ee7280500e7a2b47dc00037f33.png" height="200">

<img src="https://chat-img.jwznb.com/sticker/ef976e6c4a82d7be939488b13ee1f3d69801c74a.png" height="200">

<img src="https://chat-img.jwznb.com/sticker/9d3c528d8188990f84bc91cb602c7ed63b7e0102.png" height="200">
]]></content>
      <categories>
        <category>yhchat</category>
        <category>cloudflare</category>
        <category>Google</category>
        <category>cloudflare worker</category>
      </categories>
  </entry>
  <entry>
    <title>解决服务器smtp端口出站流量被阻断</title>
    <url>/posts/32447/</url>
    <content><![CDATA[<blockquote>
<p>我手上这台alicenetwork vps就无法通过阿里云企业邮smtp服务器发信，ping正常，其他端口也正常，应该是上游阻断或阿里云限制了，所以用华为云反代一下阿里的smtp</p>
</blockquote>
<h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><blockquote>
<p>需要一台可以正常向邮件服务器smtp发信的服务器，并且服务器之间最好组个网</p>
</blockquote>
<p>组网推荐用 <code>wireguard</code>、<code>easytier</code></p>
<p>前者通用型强，连linux维护者也推崇，后者配置简单，性能也不差，官网：<a href="https://easytier.cn/">https://easytier.cn/</a></p>
<h2 id="安装nginx"><a href="#安装nginx" class="headerlink" title="安装nginx"></a>安装nginx</h2><p>ubuntu、debian</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt-get install nginx</span><br></pre></td></tr></table></figure>

<h2 id="编写配置文件"><a href="#编写配置文件" class="headerlink" title="编写配置文件"></a>编写配置文件</h2><p>在转发机上的nginx.conf中添加</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">stream</span> &#123;</span><br><span class="line">	<span class="section">server</span> &#123;</span><br><span class="line">		<span class="attribute">listen</span> <span class="number">465</span>;</span><br><span class="line">		<span class="attribute">proxy_pass</span> smtp.qiye.aliyun.com:<span class="number">465</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>1panel：</p>
<p> <img src="https://file.butlanys.de/img/8b6c1555f493ec55f5b70479d8bc8bc9.jpg"></p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>仅需在&#x2F;etc&#x2F;hosts中新增</p>
<p><code>&lt;转发机IP&gt; &lt;smtp域名&gt;</code></p>
<p>即可，docker中可以也可以通过挂载只读的hosts文件到容器内部就能使用</p>
]]></content>
      <categories>
        <category>nginx</category>
      </categories>
      <tags>
        <tag>nginx</tag>
        <tag>mail</tag>
        <tag>smtp</tag>
      </tags>
  </entry>
  <entry>
    <title>解决自建不算子接入butterfly后一直转圈的问题</title>
    <url>/posts/33089/</url>
    <content><![CDATA[<blockquote>
<p>原文：<a href="https://blog.liushen.fun/posts/e401be2d/">https://blog.liushen.fun/posts/e401be2d/</a></p>
</blockquote>
<p>因为新版变量由原来busuanzi_page_pv → busuanzi_value_page_pv故js需要修改</p>
<p>api后端请改为自己的</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">! <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> t = [<span class="string">&quot;site_pv&quot;</span>, <span class="string">&quot;site_uv&quot;</span>, <span class="string">&quot;page_pv&quot;</span>, <span class="string">&quot;page_uv&quot;</span>],</span><br><span class="line">        e = <span class="variable language_">document</span>.<span class="property">currentScript</span>,</span><br><span class="line">        a = e.<span class="title function_">hasAttribute</span>(<span class="string">&quot;pjax&quot;</span>),</span><br><span class="line">        n = e.<span class="title function_">getAttribute</span>(<span class="string">&quot;data-api&quot;</span>) || <span class="string">&quot;https://busuanzi.butlanys.de/api&quot;</span>,</span><br><span class="line">        i = e.<span class="title function_">getAttribute</span>(<span class="string">&quot;data-prefix&quot;</span>) || <span class="string">&quot;busuanzi&quot;</span>,</span><br><span class="line">        r = e.<span class="title function_">getAttribute</span>(<span class="string">&quot;data-style&quot;</span>) || <span class="string">&quot;default&quot;</span>,</span><br><span class="line">        o = <span class="string">&quot;bsz-id&quot;</span>,</span><br><span class="line">        s = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> e = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>;</span><br><span class="line">            e.<span class="title function_">open</span>(<span class="string">&quot;POST&quot;</span>, n, !<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">let</span> a = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(o);</span><br><span class="line">            <span class="literal">null</span> != a &amp;&amp; e.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Authorization&quot;</span>, <span class="string">&quot;Bearer &quot;</span> + a), e.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;x-bsz-referer&quot;</span>, <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>), e.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="number">4</span> === e.<span class="property">readyState</span> &amp;&amp; <span class="number">200</span> === e.<span class="property">status</span>) &#123;</span><br><span class="line">                    <span class="keyword">let</span> a = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(e.<span class="property">responseText</span>);</span><br><span class="line">                    <span class="keyword">if</span> (!<span class="number">0</span> === a.<span class="property">success</span>) &#123;</span><br><span class="line">                        t.<span class="title function_">map</span>((<span class="function"><span class="params">t</span> =&gt;</span> &#123;</span><br><span class="line">                            <span class="keyword">let</span> elem = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">`<span class="subst">$&#123;i&#125;</span>_value_<span class="subst">$&#123;t&#125;</span>`</span>);</span><br><span class="line">                            <span class="keyword">if</span> (elem) &#123;</span><br><span class="line">                                elem.<span class="property">innerHTML</span> = <span class="title function_">formatValue</span>(a.<span class="property">data</span>[t], r)</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">let</span> n = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">`<span class="subst">$&#123;i&#125;</span>_container_<span class="subst">$&#123;t&#125;</span>`</span>);</span><br><span class="line">                            <span class="keyword">if</span> (n) &#123;</span><br><span class="line">                                n.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;inline&quot;</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;));</span><br><span class="line">                        <span class="keyword">let</span> n = e.<span class="title function_">getResponseHeader</span>(<span class="string">&quot;Set-Bsz-Identity&quot;</span>);</span><br><span class="line">                        <span class="literal">null</span> != n &amp;&amp; <span class="string">&quot;&quot;</span> != n &amp;&amp; <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(o, n)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, e.<span class="title function_">send</span>()</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">formatValue</span>(<span class="params">t, e = <span class="string">&quot;default&quot;</span></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;comma&quot;</span> === e) <span class="keyword">return</span> t.<span class="title function_">toLocaleString</span>();</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;short&quot;</span> === e) &#123;</span><br><span class="line">            <span class="keyword">const</span> e = [<span class="string">&quot;&quot;</span>, <span class="string">&quot;K&quot;</span>, <span class="string">&quot;M&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;T&quot;</span>];</span><br><span class="line">            <span class="keyword">let</span> a = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">log10</span>(t) / <span class="number">3</span>);</span><br><span class="line">            <span class="keyword">return</span> t /= <span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">1e3</span>, a), <span class="string">`<span class="subst">$&#123;<span class="built_in">Math</span>.round(<span class="number">100</span>*t)/<span class="number">100</span>&#125;</span><span class="subst">$&#123;e[a]&#125;</span>`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> t.<span class="title function_">toString</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">s</span>(), a) &#123;</span><br><span class="line">        <span class="keyword">let</span> t = <span class="variable language_">window</span>.<span class="property">history</span>.<span class="property">pushState</span>;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">history</span>.<span class="property">pushState</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            t.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>), <span class="title function_">s</span>()</span><br><span class="line">        &#125;, <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;popstate&quot;</span>, (<span class="keyword">function</span>(<span class="params">t</span>) &#123;</span><br><span class="line">            <span class="title function_">s</span>()</span><br><span class="line">        &#125;), !<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>记一次解决网站接入cloudflare后使用http申请Google ssl失败的方法</title>
    <url>/posts/24457/</url>
    <content><![CDATA[<p>在一次偶然的聊天过程中，无意间聊到了谷歌证书，然后就想着全站使用谷歌证书（谷歌其实跟其他证书机构相比真的没啥区别，唯一的用处就是装逼？</p>
<p>在使用1panel申请后，出现验证失败的log，往后一翻发现验证链接403</p>
<p>然后我也尝试过同样的验证方法，就谷歌403，不管是问ai还是搜索，都没找到解决方法（</p>
<p>后面上cloudflare一看，waf的日志里有几条拦截的请求，点开一看发现是Google的IP</p>
<p>原图如下：</p>
<p><img src="https://github.hqycloud.top/https://raw.githubusercontent.com/hqycloud/blog-images/main/hexo-images/24/10/image_43c8169599e24e2f267159a9fc5427d1.png" alt="https:&#x2F;&#x2F;github.hqycloud.top&#x2F;https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;hqycloud&#x2F;blog-images&#x2F;main&#x2F;hexo-images&#x2F;24&#x2F;10&#x2F;image_43c8169599e24e2f267159a9fc5427d1.png"></p>
<p>然后可从匹配服务中发现是浏览器完整性检查在搞鬼，在左边的面板中的安全性——设置中关掉浏览器完整性检查</p>
<p>关掉之后就能正常申请了</p>
<p>最后：不是我说cloudflare无端端的拦Google的IP干什么…………</p>
<p>商业互撕？😴</p>
]]></content>
      <categories>
        <category>ssl</category>
      </categories>
      <tags>
        <tag>ssl</tag>
        <tag>google cloud</tag>
      </tags>
  </entry>
  <entry>
    <title>记录下使用Supervisor(进程守护)遇到的一些小问题</title>
    <url>/posts/43650/</url>
    <content><![CDATA[<p>前言：因为我的qexo一直以来都是通过screen直接运行的，这样虽然省事，但每次vps重启，以及qexo自己更新，都要进screen会话重新运行，所以就迁移到Supervisor进程守护运行</p>
<p><strong>1、环境变量问题</strong></p>
<p>由于Supervisor的环境变量并不是很全，所以需要手动在配置文件里添加一下</p>
<p>查看当前的环境变量</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>

<p>创建文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">touch</span> /etc/supervisor/conf.d/env.conf </span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/supervisor/conf.d/env.conf </span><br></pre></td></tr></table></figure>

<p>填写以下内容</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">environment=PYTHONPATH=<span class="string">&quot;刚才运行echo <span class="variable">$PATH</span>输出的内容&quot;</span></span><br></pre></td></tr></table></figure>


<p><strong>2、git在push代码时提示未配置昵称和邮件地址</strong></p>
<p>如果你不确定你有没有配置，可以输出下面命令查看</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure>

<p>查看<code>user.email</code>和<code>user.name</code>，如果不存在，则说明当前用户压根没配置，请运行</p>
<p><code>git config --global user.email &quot;you@example.com&quot;</code><br><code>git config --global user.name &quot;Your Name&quot;</code></p>
<p>这两条命令其实只会为当前用户配置，也就是~&#x2F;.gitconfig目录下</p>
<p>可以输入<code>git config --list --show-origin</code>查看</p>
<p>为了让Supervisor读取，则需要丢到&#x2F;etc&#x2F;gitconfig下（如果你的vps有多用户，且不方便给其他用户查看，可使用其他方案）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> /root/.gitconfig &gt;&gt; /etc/gitconfig</span><br></pre></td></tr></table></figure>


<p><strong>后面如果又遇到其他问题，且我解决了，则会再次更新此文章</strong></p>
]]></content>
  </entry>
  <entry>
    <title>Qexo报错/bin/sh: 1: bash build.sh: not found解决方法</title>
    <url>/posts/54164/</url>
    <content><![CDATA[<p>说实话吧，我在写这篇文章的时候也没搞懂这报错的触发机制，只能给出几种解决方式，<del>反正每次重启机器都要操作一次</del></p>
<p><strong>1、绝对路径</strong></p>
<p><img src="https://file.butlanys.de/img/1dc478f9219979d4992e116a20120306.png"></p>
<p>2、将命令打包成bash脚本</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">TARGET_DIR=<span class="string">&quot;/opt/1panel/apps/openresty/openresty/www/sites/blog.butlanys.de/index&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="string">&quot;<span class="variable">$TARGET_DIR</span>&quot;</span></span><br><span class="line"></span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br><span class="line"></span><br><span class="line"><span class="built_in">rm</span> -rf <span class="string">&quot;<span class="variable">$TARGET_DIR</span>/*&quot;</span></span><br><span class="line"><span class="built_in">cp</span> -r /opt/blog/hexo/public/* <span class="string">&quot;<span class="variable">$TARGET_DIR</span>/&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;部署和更新完成!&quot;</span></span><br></pre></td></tr></table></figure>

<p>我这个脚本其实是为了方便build后直接push到1panel网站目录下才写的，后面发现对上述报错有奇效</p>
<p><strong>3、配置环境变量（针对Supervisor进程守护）</strong></p>
<p>参考<a href="https://blog.butlanys.de/posts/43650/">这篇文章</a></p>
]]></content>
  </entry>
</search>
